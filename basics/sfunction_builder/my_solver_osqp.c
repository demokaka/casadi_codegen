/* This file was automatically generated by CasADi 3.7.1.
 *  It consists of: 
 *   1) content generated by CasADi runtime: not copyrighted
 *   2) template code copied from CasADi source: permissively licensed (MIT-0)
 *   3) user code: owned by the user
 *
 */
#ifdef __cplusplus
extern "C" {
#endif

/* How to prefix internal symbols */
#ifdef CASADI_CODEGEN_PREFIX
  #define CASADI_NAMESPACE_CONCAT(NS, ID) _CASADI_NAMESPACE_CONCAT(NS, ID)
  #define _CASADI_NAMESPACE_CONCAT(NS, ID) NS ## ID
  #define CASADI_PREFIX(ID) CASADI_NAMESPACE_CONCAT(CODEGEN_PREFIX, ID)
#else
  #define CASADI_PREFIX(ID) my_solver_osqp_ ## ID
#endif

#include <math.h>
#include <simstruc.h>
#include <osqp/osqp.h>

#ifndef casadi_real
#define casadi_real real_T
#endif

#ifndef casadi_int
#define casadi_int int_T
#endif

#ifndef CASADI_MAX_NUM_THREADS
#define CASADI_MAX_NUM_THREADS 1
#endif

/* Add prefix to internal symbols */
#define casadi_axpy CASADI_PREFIX(axpy)
#define casadi_c0 CASADI_PREFIX(c0)
#define casadi_c1 CASADI_PREFIX(c1)
#define casadi_c2 CASADI_PREFIX(c2)
#define casadi_c3 CASADI_PREFIX(c3)
#define casadi_clear CASADI_PREFIX(clear)
#define casadi_copy CASADI_PREFIX(copy)
#define casadi_densify CASADI_PREFIX(densify)
#define casadi_dot CASADI_PREFIX(dot)
#define casadi_f0 CASADI_PREFIX(f0)
#define casadi_f1 CASADI_PREFIX(f1)
#define casadi_f1_alloc_mem CASADI_PREFIX(f1_alloc_mem)
#define casadi_f1_init_mem CASADI_PREFIX(f1_init_mem)
#define casadi_f1_mem CASADI_PREFIX(f1_mem)
#define casadi_f1_mem_counter CASADI_PREFIX(f1_mem_counter)
#define casadi_f1_unused_stack CASADI_PREFIX(f1_unused_stack)
#define casadi_f1_unused_stack_counter CASADI_PREFIX(f1_unused_stack_counter)
#define casadi_f2 CASADI_PREFIX(f2)
#define casadi_f3 CASADI_PREFIX(f3)
#define casadi_f4 CASADI_PREFIX(f4)
#define casadi_f5 CASADI_PREFIX(f5)
#define casadi_f6 CASADI_PREFIX(f6)
#define casadi_f6_alloc_mem CASADI_PREFIX(f6_alloc_mem)
#define casadi_f6_init_mem CASADI_PREFIX(f6_init_mem)
#define casadi_f6_mem CASADI_PREFIX(f6_mem)
#define casadi_f6_mem_counter CASADI_PREFIX(f6_mem_counter)
#define casadi_f6_unused_stack CASADI_PREFIX(f6_unused_stack)
#define casadi_f6_unused_stack_counter CASADI_PREFIX(f6_unused_stack_counter)
#define casadi_f7 CASADI_PREFIX(f7)
#define casadi_fabs CASADI_PREFIX(fabs)
#define casadi_fill CASADI_PREFIX(fill)
#define casadi_fmax CASADI_PREFIX(fmax)
#define casadi_max_viol CASADI_PREFIX(max_viol)
#define casadi_mtimes CASADI_PREFIX(mtimes)
#define casadi_mv CASADI_PREFIX(mv)
#define casadi_nlpsol_data CASADI_PREFIX(nlpsol_data)
#define casadi_nlpsol_detect_bounds_after CASADI_PREFIX(nlpsol_detect_bounds_after)
#define casadi_nlpsol_detect_bounds_before CASADI_PREFIX(nlpsol_detect_bounds_before)
#define casadi_nlpsol_detect_bounds_data CASADI_PREFIX(nlpsol_detect_bounds_data)
#define casadi_nlpsol_detect_bounds_prob CASADI_PREFIX(nlpsol_detect_bounds_prob)
#define casadi_nlpsol_init CASADI_PREFIX(nlpsol_init)
#define casadi_nlpsol_prob CASADI_PREFIX(nlpsol_prob)
#define casadi_nlpsol_work CASADI_PREFIX(nlpsol_work)
#define casadi_norm_inf CASADI_PREFIX(norm_inf)
#define casadi_oracle_data CASADI_PREFIX(oracle_data)
#define casadi_oracle_init CASADI_PREFIX(oracle_init)
#define casadi_qp_data CASADI_PREFIX(qp_data)
#define casadi_qp_init CASADI_PREFIX(qp_init)
#define casadi_qp_prob CASADI_PREFIX(qp_prob)
#define casadi_qp_setup CASADI_PREFIX(qp_setup)
#define casadi_qp_work CASADI_PREFIX(qp_work)
#define casadi_s0 CASADI_PREFIX(s0)
#define casadi_s1 CASADI_PREFIX(s1)
#define casadi_s10 CASADI_PREFIX(s10)
#define casadi_s11 CASADI_PREFIX(s11)
#define casadi_s12 CASADI_PREFIX(s12)
#define casadi_s13 CASADI_PREFIX(s13)
#define casadi_s14 CASADI_PREFIX(s14)
#define casadi_s15 CASADI_PREFIX(s15)
#define casadi_s16 CASADI_PREFIX(s16)
#define casadi_s17 CASADI_PREFIX(s17)
#define casadi_s18 CASADI_PREFIX(s18)
#define casadi_s19 CASADI_PREFIX(s19)
#define casadi_s2 CASADI_PREFIX(s2)
#define casadi_s20 CASADI_PREFIX(s20)
#define casadi_s21 CASADI_PREFIX(s21)
#define casadi_s22 CASADI_PREFIX(s22)
#define casadi_s23 CASADI_PREFIX(s23)
#define casadi_s24 CASADI_PREFIX(s24)
#define casadi_s25 CASADI_PREFIX(s25)
#define casadi_s3 CASADI_PREFIX(s3)
#define casadi_s4 CASADI_PREFIX(s4)
#define casadi_s5 CASADI_PREFIX(s5)
#define casadi_s6 CASADI_PREFIX(s6)
#define casadi_s7 CASADI_PREFIX(s7)
#define casadi_s8 CASADI_PREFIX(s8)
#define casadi_s9 CASADI_PREFIX(s9)
#define casadi_scal CASADI_PREFIX(scal)
#define casadi_sq CASADI_PREFIX(sq)
#define casadi_sqpmethod_data CASADI_PREFIX(sqpmethod_data)
#define casadi_sqpmethod_init CASADI_PREFIX(sqpmethod_init)
#define casadi_sqpmethod_prob CASADI_PREFIX(sqpmethod_prob)
#define casadi_sqpmethod_work CASADI_PREFIX(sqpmethod_work)
#define casadi_sum_viol CASADI_PREFIX(sum_viol)
#define casadi_trans CASADI_PREFIX(trans)
#define casadi_tri_project CASADI_PREFIX(tri_project)
#define casadi_zeros CASADI_PREFIX(zeros)

/* Symbol visibility in DLLs */
#ifndef CASADI_SYMBOL_EXPORT
  #if defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
    #if defined(STATIC_LINKED)
      #define CASADI_SYMBOL_EXPORT
    #else
      #define CASADI_SYMBOL_EXPORT __declspec(dllexport)
    #endif
  #elif defined(__GNUC__) && defined(GCC_HASCLASSVISIBILITY)
    #define CASADI_SYMBOL_EXPORT __attribute__ ((visibility ("default")))
  #else
    #define CASADI_SYMBOL_EXPORT
  #endif
#endif

void casadi_fill(casadi_real* x, casadi_int n, casadi_real alpha) {
  casadi_int i;
  if (x) {
    for (i=0; i<n; ++i) *x++ = alpha;
  }
}

void casadi_clear(casadi_real* x, casadi_int n) {
  casadi_int i;
  if (x) {
    for (i=0; i<n; ++i) *x++ = 0;
  }
}

void casadi_copy(const casadi_real* x, casadi_int n, casadi_real* y) {
  casadi_int i;
  if (y) {
    if (x) {
      for (i=0; i<n; ++i) *y++ = *x++;
    } else {
      for (i=0; i<n; ++i) *y++ = 0.;
    }
  }
}

casadi_real casadi_sq(casadi_real x) { return x*x;}

casadi_real casadi_dot(casadi_int n, const casadi_real* x, const casadi_real* y) {
  casadi_int i;
  casadi_real r = 0;
  for (i=0; i<n; ++i) r += *x++ * *y++;
  return r;
}

#define CASADI_CAST(x,y) ((x) y)

void casadi_densify(const casadi_real* x, const casadi_int* sp_x, casadi_real* y, casadi_int tr) {
  casadi_int nrow_x, ncol_x, i, el;
  const casadi_int *colind_x, *row_x;
  if (!y) return;
  nrow_x = sp_x[0]; ncol_x = sp_x[1];
  colind_x = sp_x+2; row_x = sp_x+ncol_x+3;
  casadi_clear(y, nrow_x*ncol_x);
  if (!x) return;
  if (tr) {
    for (i=0; i<ncol_x; ++i) {
      for (el=colind_x[i]; el!=colind_x[i+1]; ++el) {
        y[i + row_x[el]*ncol_x] = CASADI_CAST(casadi_real, *x++);
      }
    }
  } else {
    for (i=0; i<ncol_x; ++i) {
      for (el=colind_x[i]; el!=colind_x[i+1]; ++el) {
        y[row_x[el]] = CASADI_CAST(casadi_real, *x++);
      }
      y += nrow_x;
    }
  }
}

void casadi_mtimes(const casadi_real* x, const casadi_int* sp_x, const casadi_real* y, const casadi_int* sp_y, casadi_real* z, const casadi_int* sp_z, casadi_real* w, casadi_int tr) {
  casadi_int ncol_x, ncol_y, ncol_z, cc;
  const casadi_int *colind_x, *row_x, *colind_y, *row_y, *colind_z, *row_z;
  ncol_x = sp_x[1];
  colind_x = sp_x+2; row_x = sp_x + 2 + ncol_x+1;
  ncol_y = sp_y[1];
  colind_y = sp_y+2; row_y = sp_y + 2 + ncol_y+1;
  ncol_z = sp_z[1];
  colind_z = sp_z+2; row_z = sp_z + 2 + ncol_z+1;
  if (tr) {
    for (cc=0; cc<ncol_z; ++cc) {
      casadi_int kk;
      for (kk=colind_y[cc]; kk<colind_y[cc+1]; ++kk) {
        w[row_y[kk]] = y[kk];
      }
      for (kk=colind_z[cc]; kk<colind_z[cc+1]; ++kk) {
        casadi_int kk1;
        casadi_int rr = row_z[kk];
        for (kk1=colind_x[rr]; kk1<colind_x[rr+1]; ++kk1) {
          z[kk] += x[kk1] * w[row_x[kk1]];
        }
      }
    }
  } else {
    for (cc=0; cc<ncol_y; ++cc) {
      casadi_int kk;
      for (kk=colind_z[cc]; kk<colind_z[cc+1]; ++kk) {
        w[row_z[kk]] = z[kk];
      }
      for (kk=colind_y[cc]; kk<colind_y[cc+1]; ++kk) {
        casadi_int kk1;
        casadi_int rr = row_y[kk];
        for (kk1=colind_x[rr]; kk1<colind_x[rr+1]; ++kk1) {
          w[row_x[kk1]] += x[kk1]*y[kk];
        }
      }
      for (kk=colind_z[cc]; kk<colind_z[cc+1]; ++kk) {
        z[kk] = w[row_z[kk]];
      }
    }
  }
}

void casadi_trans(const casadi_real* x, const casadi_int* sp_x, casadi_real* y,
    const casadi_int* sp_y, casadi_int* tmp) {
  casadi_int ncol_x, nnz_x, ncol_y, k;
  const casadi_int* row_x, *colind_y;
  ncol_x = sp_x[1];
  nnz_x = sp_x[2 + ncol_x];
  row_x = sp_x + 2 + ncol_x+1;
  ncol_y = sp_y[1];
  colind_y = sp_y+2;
  for (k=0; k<ncol_y; ++k) tmp[k] = colind_y[k];
  for (k=0; k<nnz_x; ++k) {
    y[tmp[row_x[k]]++] = x[k];
  }
}

#ifndef casadi_inf
  #define casadi_inf INFINITY
#endif

void casadi_tri_project(const casadi_real* x, const casadi_int* sp_x, casadi_real* y, casadi_int lower) {
  casadi_int ncol_x, j, k;
  const casadi_int *colind_x, *row_x;
  ncol_x = sp_x[1];
  colind_x = sp_x+2; row_x = sp_x + 2 + ncol_x+1;
  for (j=0; j<ncol_x; ++j) {
    for (k=colind_x[j]; k<colind_x[j+1]; ++k) {
      if (lower) {
        if (row_x[k]>=j) *y++ = x ? x[k] : 0;
      } else {
        if (row_x[k]<=j) *y++ = x ? x[k] : 0;
      }
    }
  }
}

static int casadi_f6_mem_counter = 0;
static int casadi_f6_unused_stack_counter = -1;
static int casadi_f6_unused_stack[CASADI_MAX_NUM_THREADS];
static OSQPWorkspace* casadi_f6_mem[CASADI_MAX_NUM_THREADS];

struct casadi_qp_prob {
  const casadi_int *sp_a, *sp_h;
  casadi_int nx, na, nz;
  casadi_int nnz_a, nnz_h;
};
void casadi_qp_setup(struct casadi_qp_prob* p) {
  p->na = p->sp_a[0];
  p->nx = p->sp_a[1];
  p->nz = p->na+p->nx;
  p->nnz_a = p->sp_a[2+p->sp_a[1]];
  p->nnz_h = p->sp_h[2+p->sp_h[1]];
}
struct casadi_qp_data {
  const struct casadi_qp_prob* prob;
  int unified_return_status;
  int success;
  casadi_int iter_count;
  const casadi_real *a, *h, *g, *lbx, *ubx, *lba, *uba, *x0, *lam_x0, *lam_a0;
  casadi_real *f, *x, *lam_x, *lam_a;
};
void casadi_qp_init(struct casadi_qp_data* d, casadi_int** iw, casadi_real** w) {
}
void casadi_qp_work(const struct casadi_qp_prob* p, casadi_int* sz_arg, casadi_int* sz_res,
    casadi_int* sz_iw, casadi_int* sz_w) {
  *sz_arg = *sz_res = 0;
  *sz_w = *sz_iw = 0;
}

struct casadi_oracle_data {
  const casadi_real** arg;
  casadi_real** res;
  casadi_int* iw;
  casadi_real* w;
  void* m;
};
void casadi_oracle_init(struct casadi_oracle_data* d, const casadi_real*** arg, casadi_real*** res,
    casadi_int** iw, casadi_real** w) {
  d->arg = *arg;
  d->res = *res;
  d->iw = *iw;
  d->w = *w;
}

struct casadi_nlpsol_detect_bounds_prob {
  casadi_int sz_arg;
  casadi_int sz_res;
  casadi_int sz_iw;
  casadi_int sz_w;
  casadi_int ng;
  casadi_int nb;
  const casadi_int *target_x;
  const casadi_int *target_g;
  const char *is_simple;
  int (*callback)(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, void* callback_data);
  void* callback_data;
};
struct casadi_nlpsol_prob {
  casadi_int nx, ng, np;
  struct casadi_nlpsol_detect_bounds_prob detect_bounds;
};
struct casadi_nlpsol_detect_bounds_data {
  const casadi_real** arg;
  casadi_real** res;
  casadi_int* iw;
  casadi_real* w;
  casadi_real* a;
  casadi_real* b;
  casadi_int* target_l;
  casadi_int* target_u;
  casadi_real* lam_xl;
  casadi_real* lam_xu;
};
struct casadi_nlpsol_data {
  const struct casadi_nlpsol_prob* prob;
  struct casadi_oracle_data* oracle;
  casadi_real *lbz, *ubz;
  casadi_real *z;
  casadi_real *lam;
  casadi_real objective;
  const casadi_real *p, *lbx, *ubx, *lbg, *ubg, *x0, *lam_x0, *lam_g0;
  casadi_real *f, *x, *g, *lam_x, *lam_g, *lam_p;
  struct casadi_nlpsol_detect_bounds_data detect_bounds;
};
void casadi_nlpsol_work(const struct casadi_nlpsol_prob* p, casadi_int* sz_arg, casadi_int* sz_res,
    casadi_int* sz_iw, casadi_int* sz_w) {
  *sz_arg = *sz_res = 0;
  *sz_w = *sz_iw = 0;
  *sz_w += p->nx + p->ng;
  *sz_w += p->nx + p->ng;
  *sz_w += p->nx + p->ng;
  *sz_w += p->nx + p->ng;
  if (p->detect_bounds.ng) {
    *sz_arg += p->detect_bounds.sz_arg;
    *sz_res += p->detect_bounds.sz_res;
    *sz_iw += p->detect_bounds.sz_iw;
    *sz_w += p->detect_bounds.sz_w;
    *sz_w += p->detect_bounds.nb;
    *sz_w += p->detect_bounds.nb;
    *sz_iw += p->nx;
    *sz_iw += p->nx;
    *sz_w += p->nx;
    *sz_w += p->nx;
  }
}
void casadi_nlpsol_init(struct casadi_nlpsol_data* d, const casadi_real*** arg, casadi_real*** res,
    casadi_int** iw, casadi_real** w) {
  casadi_int nx, ng;
  const struct casadi_nlpsol_prob* p = d->prob;
  nx = p->nx;
  ng = p->ng;
  d->z = *w; *w += nx + ng;
  d->lbz = *w; *w += nx + ng;
  d->ubz = *w; *w += nx + ng;
  d->lam = *w; *w += nx + ng;
  if (p->detect_bounds.ng) {
    d->detect_bounds.arg = *arg; *arg += p->detect_bounds.sz_arg;
    d->detect_bounds.res = *res; *res += p->detect_bounds.sz_res;
    d->detect_bounds.iw = *iw; *iw += p->detect_bounds.sz_iw;
    d->detect_bounds.w = *w; *w += p->detect_bounds.sz_w;
    d->detect_bounds.a = *w; *w += p->detect_bounds.nb;
    d->detect_bounds.b = *w; *w += p->detect_bounds.nb;
    d->detect_bounds.target_l = *iw; *iw += p->nx;
    d->detect_bounds.target_u = *iw; *iw += p->nx;
    d->detect_bounds.lam_xl = *w; *w += nx;
    d->detect_bounds.lam_xu = *w; *w += nx;
  }
}
int casadi_detect_bounds_before(struct casadi_nlpsol_data* d_nlp) {
  const struct casadi_nlpsol_prob* p_nlp = d_nlp->prob;
  struct casadi_nlpsol_detect_bounds_data* d_bounds = &d_nlp->detect_bounds;
  const struct casadi_nlpsol_detect_bounds_prob* p_bounds = &p_nlp->detect_bounds;
  casadi_int nx = p_nlp->nx;
  d_bounds->arg[0] = d_nlp->z;
  d_bounds->arg[1] = d_nlp->p;
  d_bounds->res[0] = d_bounds->a;
  d_bounds->res[1] = d_bounds->b;
  p_bounds->callback(d_bounds->arg, d_bounds->res,
    d_bounds->iw, d_bounds->w, p_bounds->callback_data);
  for (casadi_int i=0;i<p_bounds->nb;++i) {
    if (d_bounds->a[i]==0) {
      casadi_int k = p_bounds->target_g[i];
      if (d_nlp->lbg[k]>d_bounds->b[i]) return 1;
      if (d_nlp->ubg[k]<d_bounds->b[i]) return 1;
    }
  }
  casadi_real* lbz = d_nlp->lbz+nx;
  casadi_real* ubz = d_nlp->ubz+nx;
  casadi_real* lam = d_nlp->lam+nx;
  for (casadi_int i=0;i<nx;++i) {
    d_bounds->lam_xl[i] = d_nlp->lam_x0 ? (d_nlp->lam_x0[i]<0)*d_nlp->lam_x0[i] : 0.;
    d_bounds->lam_xu[i] = d_nlp->lam_x0 ? (d_nlp->lam_x0[i]>0)*d_nlp->lam_x0[i] : 0.;
  }
  for (casadi_int i=0;i<nx;++i) {
    d_bounds->target_l[i] = i;
    d_bounds->target_u[i] = i;
  }
  casadi_int k=0;
  for (casadi_int i=0;i<p_bounds->ng;++i) {
    if (p_bounds->is_simple[i]) {
      casadi_real lb = (d_nlp->lbg[i]-d_bounds->b[k])/d_bounds->a[k];
      casadi_real ub = (d_nlp->ubg[i]-d_bounds->b[k])/d_bounds->a[k];
      if (d_bounds->a[k]<0) {
        casadi_real tmp = lb;
        lb = ub;
        ub = tmp;
      }
      casadi_int j = p_bounds->target_x[k];
      lb += d_nlp->z[j];
      ub += d_nlp->z[j];
      if (lb==d_nlp->lbz[j]) {
        if (d_nlp->lam_g0) d_bounds->lam_xl[j] += (d_nlp->lam_g0[i]<0)*d_nlp->lam_g0[i];
      } else if (lb>d_nlp->lbz[j]) {
        d_nlp->lbz[j] = lb;
        d_bounds->target_l[j] = nx+i;
        if (d_nlp->lam_g0) d_bounds->lam_xl[j] = (d_nlp->lam_g0[i]<0)*d_nlp->lam_g0[i];
      }
      if (ub==d_nlp->ubz[j]) {
        if (d_nlp->lam_g0) d_bounds->lam_xu[j] += (d_nlp->lam_g0[i]>0)*d_nlp->lam_g0[i];
      } else if (ub<d_nlp->ubz[j]) {
        d_nlp->ubz[j] = ub;
        d_bounds->target_u[j] = nx+i;
        if (d_nlp->lam_g0) d_bounds->lam_xu[j] = (d_nlp->lam_g0[i]>0)*d_nlp->lam_g0[i];
      }
      k++;
    } else {
      *lbz++ = d_nlp->lbg[i];
      *ubz++ = d_nlp->ubg[i];
      if (d_nlp->lam_g0) *lam++ = d_nlp->lam_g0[i];
    }
  }
  for (casadi_int i=0;i<nx;++i) {
    d_nlp->lam[i] = d_bounds->lam_xl[i]+d_bounds->lam_xu[i];
  }
  return 0;
}
int casadi_detect_bounds_after(struct casadi_nlpsol_data* d_nlp) {
  const struct casadi_nlpsol_prob* p_nlp = d_nlp->prob;
  struct casadi_nlpsol_detect_bounds_data* d_bounds = &d_nlp->detect_bounds;
  const struct casadi_nlpsol_detect_bounds_prob* p_bounds = &p_nlp->detect_bounds;
  casadi_int nx = p_nlp->nx;
  casadi_fill(d_nlp->lam_x, nx, 0.);
  casadi_fill(d_nlp->lam_g, p_bounds->ng, 0.);
  casadi_int k = 0;
  casadi_int k_normal = 0;
  for (casadi_int i=0;i<p_bounds->ng;++i) {
    if (p_bounds->is_simple[i]) {
      casadi_int j = p_bounds->target_x[k];
      if (d_nlp->g) {
        d_nlp->g[i] = d_bounds->a[k]*d_nlp->z[j]-d_bounds->b[k];
        if (d_nlp->x0) d_nlp->g[i] += d_nlp->x0[j];
      }
      k++;
    } else {
      if (d_nlp->g) d_nlp->g[i] = d_nlp->z[nx+k_normal];
      if (d_nlp->lam_g) d_nlp->lam_g[i] = d_nlp->lam[nx+k_normal];
      k_normal++;
    }
  }
  for (casadi_int i=0;i<nx;++i) {
    if (d_bounds->target_l[i]<nx) {
      if (d_nlp->lam_x) d_nlp->lam_x[i] += (d_nlp->lam[i]<0)*d_nlp->lam[i];
    } else {
      if (d_nlp->lam_g)
        d_nlp->lam_g[d_bounds->target_l[i]-nx] += (d_nlp->lam[i]<0)*d_nlp->lam[i];
    }
    if (d_bounds->target_u[i]<nx) {
      if (d_nlp->lam_x) d_nlp->lam_x[i] += (d_nlp->lam[i]>0)*d_nlp->lam[i];
    } else {
      if (d_nlp->lam_g)
        d_nlp->lam_g[d_bounds->target_u[i]-nx] += (d_nlp->lam[i]>0)*d_nlp->lam[i];
    }
  }
  k = 0;
  for (casadi_int i=0;i<p_bounds->ng;++i) {
    if (p_bounds->is_simple[i]) {
      if (d_nlp->lam_g) d_nlp->lam_g[i] /= d_bounds->a[k];
      k++;
    }
  }
  return 0;
}

casadi_real casadi_fabs(casadi_real x) {
/* Pre-c99 compatibility */
#if __STDC_VERSION__ < 199901L
  return x>0 ? x : -x;
#else
  return fabs(x);
#endif
}

struct casadi_sqpmethod_prob {
  const struct casadi_nlpsol_prob* nlp;
  const casadi_int *sp_h, *sp_a, *sp_hr;
  casadi_int merit_memsize;
  casadi_int max_iter_ls;
};
struct casadi_sqpmethod_data {
  const struct casadi_sqpmethod_prob* prob;
  casadi_real* z_cand;
  casadi_real *gLag, *gLag_old;
  casadi_real *gf;
  casadi_real *lbdz, *ubdz;
  casadi_real *dx, *dlam;
  casadi_real *Bk;
  casadi_real* Jk;
  casadi_real* merit_mem;
  casadi_real* temp_mem;
  casadi_real* temp_sol;
  const casadi_real** arg;
  casadi_real** res;
  casadi_int* iw;
  casadi_real* w;
};
void casadi_sqpmethod_work(const struct casadi_sqpmethod_prob* p,
    casadi_int* sz_iw, casadi_int* sz_w, int elastic_mode, int so_corr) {
  casadi_int nnz_h, nnz_a, nx, ng;
  nnz_h = p->sp_h[2+p->sp_h[1]];
  nnz_a = p->sp_a[2+p->sp_a[1]];
  nx = p->nlp->nx;
  ng = p->nlp->ng;
  *sz_w = *sz_iw = 0;
  if (p->max_iter_ls>0 || so_corr) *sz_w += nx + ng;
  *sz_w += nx;
  *sz_w += nx;
  *sz_w += nx;
  *sz_w += nx + ng;
  *sz_w += nx + ng;
  *sz_w += nx;
  *sz_w += nx + ng;
  *sz_w += nnz_h;
  *sz_w += nnz_a;
  if (p->max_iter_ls>0 || so_corr) *sz_w += p->merit_memsize;
  if (elastic_mode) {
    *sz_w += 2*ng;
    *sz_w += 2*ng;
    *sz_w += 2*ng;
    *sz_w += 2*ng;
    *sz_w += 2*ng;
    *sz_w += 2*ng;
    *sz_w += ng;
  }
  if (so_corr) *sz_w += nx+nx+ng;
}
void casadi_sqpmethod_init(struct casadi_sqpmethod_data* d,
    const casadi_real*** arg, casadi_real*** res, casadi_int** iw, casadi_real** w,
    int elastic_mode, int so_corr) {
  casadi_int nnz_h, nnz_a, nx, ng;
  const struct casadi_sqpmethod_prob* p = d->prob;
  nnz_h = p->sp_h[2+p->sp_h[1]];
  nnz_a = p->sp_a[2+p->sp_a[1]];
  nx = p->nlp->nx;
  ng = p->nlp->ng;
  if (p->max_iter_ls>0 || so_corr) {
    d->z_cand = *w; *w += nx + ng;
  }
  d->gLag = *w; *w += nx;
  d->gLag_old = *w; *w += nx;
  d->Bk = *w; *w += nnz_h;
  if (p->max_iter_ls>0 || so_corr) {
    d->merit_mem = *w; *w += p->merit_memsize;
  }
  if (so_corr) {
    d->temp_sol = *w; *w += nx+nx+ng;
  }
  if (elastic_mode) {
    d->gf = *w; *w += nx + 2*ng;
    d->lbdz = *w; *w += nx + 3*ng;
    d->ubdz = *w; *w += nx + 3*ng;
    d->dx = *w; *w += nx + 2*ng;
    d->dlam = *w; *w += nx + 3*ng;
    d->Jk = *w; *w += nnz_a + 2*ng;
    d->temp_mem = *w; *w += ng;
  } else {
    d->gf = *w; *w += nx;
    d->lbdz = *w; *w += nx + ng;
    d->ubdz = *w; *w += nx + ng;
    d->dx = *w; *w += nx;
    d->dlam = *w; *w += nx + ng;
    d->Jk = *w; *w += nnz_a;
  }
  d->arg = *arg;
  d->res = *res;
  d->iw = *iw;
  d->w = *w;
}

void casadi_mv(const casadi_real* x, const casadi_int* sp_x, const casadi_real* y, casadi_real* z, casadi_int tr) {
  casadi_int ncol_x, i, el;
  const casadi_int *colind_x, *row_x;
  if (!x || !y || !z) return;
  ncol_x = sp_x[1];
  colind_x = sp_x+2; row_x = sp_x + 2 + ncol_x+1;
  if (tr) {
    for (i=0; i<ncol_x; ++i) {
      for (el=colind_x[i]; el<colind_x[i+1]; ++el) {
        z[i] += x[el] * y[row_x[el]];
      }
    }
  } else {
    for (i=0; i<ncol_x; ++i) {
      for (el=colind_x[i]; el<colind_x[i+1]; ++el) {
        z[row_x[el]] += x[el] * y[i];
      }
    }
  }
}

void casadi_axpy(casadi_int n, casadi_real alpha, const casadi_real* x, casadi_real* y) {
  casadi_int i;
  if (!x || !y) return;
  for (i=0; i<n; ++i) *y++ += alpha**x++;
}

casadi_real casadi_fmax(casadi_real x, casadi_real y) {
/* Pre-c99 compatibility */
#if __STDC_VERSION__ < 199901L
  return x>y ? x : y;
#else
  return fmax(x, y);
#endif
}

casadi_real casadi_max_viol(casadi_int n, const casadi_real* x, const casadi_real* lb, const casadi_real* ub) {
  casadi_real r;
  casadi_int i;
  const casadi_real zero = 0;
  r = 0;
  for (i=0; i<n; ++i) {
    casadi_real x_i, lb_i, ub_i;
    x_i = x ? *x++ : zero;
    lb_i = lb ? *lb++ : zero;
    ub_i = ub ? *ub++ : zero;
    r = casadi_fmax(r, casadi_fmax(x_i-ub_i, zero));
    r = casadi_fmax(r, casadi_fmax(lb_i-x_i, zero));
  }
  return r;
}

casadi_real casadi_norm_inf(casadi_int n, const casadi_real* x) {
  casadi_int i;
  casadi_real ret = 0;
  for (i=0; i<n; ++i) ret = casadi_fmax(ret, fabs(*x++));
  return ret;
}

casadi_real casadi_sum_viol(casadi_int n, const casadi_real* x, const casadi_real* lb, const casadi_real* ub) {
  casadi_real r;
  casadi_int i;
  const casadi_real zero = 0;
  r = 0;
  for (i=0; i<n; ++i) {
    casadi_real x_i, lb_i, ub_i;
    x_i = x ? *x++ : zero;
    lb_i = lb ? *lb++ : zero;
    ub_i = ub ? *ub++ : zero;
    r += casadi_fmax(x_i-ub_i, zero);
    r += casadi_fmax(lb_i-x_i, zero);
  }
  return r;
}

void casadi_scal(casadi_int n, casadi_real alpha, casadi_real* x) {
  casadi_int i;
  if (!x) return;
  for (i=0; i<n; ++i) *x++ *= alpha;
}

static int casadi_f1_mem_counter = 0;
static int casadi_f1_unused_stack_counter = -1;
static int casadi_f1_unused_stack[CASADI_MAX_NUM_THREADS];
static struct casadi_sqpmethod_data casadi_f1_mem[CASADI_MAX_NUM_THREADS];

static const casadi_int casadi_s0[16] = 
  {14, 1, 0, 12, 2, 3, 4, 5,
  6, 7, 8, 9, 10, 11, 12, 13};
static const casadi_int casadi_s1[6] = {2, 1, 0, 2, 0, 1};
static const casadi_int casadi_s2[5] = {2, 1, 0, 1, 0};
static const casadi_int casadi_s3[9] = 
  {2, 2, 0, 2, 4, 0, 1, 0,
  1};
static const casadi_int casadi_s4[9] = 
  {0, 2, 6, 14, 22, 26, 34, 42,
  46};
static const casadi_int casadi_s5[5] = {2, 1, 0, 1, 1};
static const casadi_int casadi_s6[9] = 
  {1, 3, 7, 18, 23, 27, 38, 43,
  47};
static const casadi_int casadi_s7[8] = {4, 12, 16, 24, 32, 36, 44, 48};
static const casadi_int casadi_s8[10] = 
  {8, 13, 17, 28, 33, 37, 45, 49,
  50, 51};
static const casadi_int casadi_s9[16] = 
  {5, 9, 10, 11, 15, 19, 20, 21,
  25, 29, 30, 31, 35, 39, 40, 41};
static const casadi_int casadi_s10[72] = 
  {22, 17, 0, 3, 6, 9, 12, 15,
  18, 21, 24, 27, 30, 31, 32, 36,
  40, 44, 48, 52, 0, 2, 3, 1,
  2, 3, 2, 6, 7, 3, 6, 7,
  6, 10, 11, 7, 10, 11, 10, 14,
  15, 11, 14, 15, 14, 18, 19, 15,
  18, 19, 18, 19, 2, 3, 4, 5,
  6, 7, 8, 9, 10, 11, 12, 13,
  14, 15, 16, 17, 18, 19, 20, 21};
static const casadi_int casadi_s11[77] = 
  {17, 22, 0, 1, 2, 6, 10, 11,
  12, 16, 20, 21, 22, 26, 30, 31,
  32, 36, 40, 41, 42, 46, 50, 51,
  52, 0, 1, 0, 1, 2, 12, 0,
  1, 3, 12, 12, 12, 2, 3, 4,
  13, 2, 3, 5, 13, 13, 13, 4,
  5, 6, 14, 4, 5, 7, 14, 14,
  14, 6, 7, 8, 15, 6, 7, 9,
  15, 15, 15, 8, 9, 10, 16, 8,
  9, 11, 16, 16, 16};
static const casadi_int casadi_s12[7] = {1, 2, 0, 1, 2, 0, 0};
static const casadi_int casadi_s13[6] = {1, 2, 0, 1, 1, 0};
static const casadi_int casadi_s14[17] = 
  {0, 1, 4, 5, 8, 9, 12, 13,
  16, 17, 20, 21, 24, 25, 26, 27,
  28};
static const casadi_int casadi_s15[17] = 
  {0, 2, 4, 6, 8, 10, 12, 14,
  16, 18, 20, 22, 24, 25, 26, 27,
  28};
static const casadi_int casadi_s16[6] = {1, 2, 0, 0, 1, 0};
static const casadi_int casadi_s17[49] = 
  {17, 17, 0, 2, 4, 6, 8, 10,
  12, 14, 16, 18, 20, 22, 24, 25,
  26, 27, 28, 29, 0, 1, 0, 1,
  2, 3, 2, 3, 4, 5, 4, 5,
  6, 7, 6, 7, 8, 9, 8, 9,
  10, 11, 10, 11, 12, 13, 14, 15,
  16};
static const casadi_int casadi_s18[18] = 
  {0, 3, 6, 9, 12, 15, 18, 21,
  24, 27, 30, 31, 32, 36, 40, 44,
  48, 52};
static const casadi_int casadi_s19[69] = 
  {0, 17, 19, 20, 1, 18, 19, 20,
  2, 19, 23, 24, 3, 20, 23, 24,
  4, 23, 27, 28, 5, 24, 27, 28,
  6, 27, 31, 32, 7, 28, 31, 32,
  8, 31, 35, 36, 9, 32, 35, 36,
  10, 35, 11, 36, 12, 19, 20, 21,
  22, 13, 23, 24, 25, 26, 14, 27,
  28, 29, 30, 15, 31, 32, 33, 34,
  16, 35, 36, 37, 38};
static const casadi_int casadi_s20[18] = 
  {0, 4, 8, 12, 16, 20, 24, 28,
  32, 36, 40, 42, 44, 49, 54, 59,
  64, 69};
static const casadi_int casadi_s21[23] = 
  {0, 0, 1, 2, 2, 3, 4, 4,
  5, 6, 6, 7, 8, 8, 9, 10,
  10, 11, 12, 13, 14, 15, 16};
static const casadi_int casadi_s22[18] = 
  {0, 1, 3, 4, 6, 7, 9, 10,
  12, 13, 15, 16, 18, 19, 20, 21,
  22, 23};
static const casadi_int casadi_s23[3] = {2, 1, 1};
static const casadi_int casadi_s24[3] = {2, 6, 1};
static const casadi_int casadi_s25[3] = {1, 1, 1};

static const casadi_real casadi_c0[4] = {500., 0., 0., 1.};
static const casadi_real casadi_c1[4] = {5000., 0., 0., 10.};
static const casadi_real casadi_c2[4] = {1., 0., 1.8117356846526805e-02, 8.1783684537750823e-01};
static const casadi_real casadi_c3[2] = {4.4824836987457060e-02, 4.3372179672021867e+00};

static const casadi_real casadi_zeros[22] = 
  {0., 0., 0., 0., 0., 0., 0., 0.,
  0., 0., 0., 0., 0., 0., 0., 0.,
  0., 0., 0., 0., 0., 0.};

/* nlp_grad:(x[17],p[14],lam_f,lam_g[22])->(f,g[22],grad_gamma_x[17],grad_gamma_p[14]) */
static int casadi_f2(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, int mem) {
  casadi_int i, j, k;
  casadi_real *rr, w00, *w01=w+3, *w02=w+5, *w03=w+17, *w04=w+19, *w05=w+31, *w06=w+33, *w07=w+37, w08, w09, *w10=w+44;
  casadi_real *w11=w+46, *w12=w+48, w13, *w14=w+53, *w15=w+55, *w16=w+57, w17, *w18=w+62, *w19=w+64, *w20=w+66, w21, *w22=w+71;
  casadi_real *w23=w+73, *w24=w+75, w25, *w26=w+80, *w27=w+82, *w28=w+84, *w29=w+88, *w30=w+90, *w31=w+94, *w32=w+96, *w33=w+98, *w34=w+102;
  casadi_real *w35=w+104, *w36=w+108, *w37=w+110, *w38=w+114, *w39=w+116, *w40=w+120, *w41=w+122, *w43=w+148, w44, w45, *w46=w+152, w47;
  casadi_real w48, *w49=w+156, w50, w51, *w52=w+160, w53, w54, *w55=w+164, w56, *w58=w+167;
  const casadi_real *cr, *cs, *ct, *wr02, *wr03, *wr04, *wr05, *wr10, *wr11, *wr14, *wr15, *wr18;
  const casadi_real *wr19, *wr22, *wr23, *wr26, *wr27, *wr29, *wr31, *wr32, *wr34, *wr36, *wr38, *wr40;
  const casadi_real *wr42, *wr43, *wr46, *wr49, *wr52;
  /* #0: @0 = 0 */
  w00 = 0.;
  /* #1: @1 = zeros(1x2) */
  casadi_clear(w01, 2);
  /* #2: @2 = input[0][0] */
  wr02 = arg[0] ? arg[0] : casadi_zeros;
  /* #3: @3 = @2[:2] */
  wr03 = wr02+0;
  /* #4: @4 = input[1][1] */
  wr04 = arg[1] ? arg[1]+2 : casadi_zeros;
  /* #5: @5 = @4[:2] */
  wr05 = wr04+0;
  /* #6: @3 = (@3-@5) */
  for (i=0, rr=w03, cr=wr03, cs=wr05; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #7: @3 = @3' */
  /* #8: @6 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w06);
  /* #9: @1 = mac(@3,@6,@1) */
  for (i=0, rr=w01; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w03+j, ct=w06+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #10: @3 = @2[:2] */
  wr03 = wr02+0;
  /* #11: @5 = @4[:2] */
  wr05 = wr04+0;
  /* #12: @3 = (@3-@5) */
  for (i=0, rr=w03, cr=wr03, cs=wr05; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #13: @0 = mac(@1,@3,@0) */
  for (i=0, rr=(&w00); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w01+j, ct=w03+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #14: @7 = input[0][1] */
  casadi_copy(arg[0] ? arg[0]+12 : 0, 5, w07);
  /* #15: @8 = @7[0] */
  for (rr=(&w08), cs=w07+0; cs!=w07+1; cs+=1) *rr++ = *cs;
  /* #16: @9 = sq(@8) */
  w09 = casadi_sq( w08 );
  /* #17: @0 = (@0+@9) */
  w00 += w09;
  /* #18: @9 = 0 */
  w09 = 0.;
  /* #19: @5 = zeros(1x2) */
  casadi_clear(w05, 2);
  /* #20: @10 = @2[2:4] */
  wr10 = wr02+2;
  /* #21: @11 = @4[2:4] */
  wr11 = wr04+2;
  /* #22: @10 = (@10-@11) */
  for (i=0, rr=w10, cr=wr10, cs=wr11; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #23: @10 = @10' */
  /* #24: @12 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w12);
  /* #25: @5 = mac(@10,@12,@5) */
  for (i=0, rr=w05; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w10+j, ct=w12+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #26: @10 = @2[2:4] */
  wr10 = wr02+2;
  /* #27: @11 = @4[2:4] */
  wr11 = wr04+2;
  /* #28: @10 = (@10-@11) */
  for (i=0, rr=w10, cr=wr10, cs=wr11; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #29: @9 = mac(@5,@10,@9) */
  for (i=0, rr=(&w09); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w05+j, ct=w10+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #30: @0 = (@0+@9) */
  w00 += w09;
  /* #31: @9 = @7[1] */
  for (rr=(&w09), cs=w07+1; cs!=w07+2; cs+=1) *rr++ = *cs;
  /* #32: @13 = sq(@9) */
  w13 = casadi_sq( w09 );
  /* #33: @0 = (@0+@13) */
  w00 += w13;
  /* #34: @13 = 0 */
  w13 = 0.;
  /* #35: @11 = zeros(1x2) */
  casadi_clear(w11, 2);
  /* #36: @14 = @2[4:6] */
  wr14 = wr02+4;
  /* #37: @15 = @4[4:6] */
  wr15 = wr04+4;
  /* #38: @14 = (@14-@15) */
  for (i=0, rr=w14, cr=wr14, cs=wr15; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #39: @14 = @14' */
  /* #40: @16 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w16);
  /* #41: @11 = mac(@14,@16,@11) */
  for (i=0, rr=w11; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w14+j, ct=w16+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #42: @14 = @2[4:6] */
  wr14 = wr02+4;
  /* #43: @15 = @4[4:6] */
  wr15 = wr04+4;
  /* #44: @14 = (@14-@15) */
  for (i=0, rr=w14, cr=wr14, cs=wr15; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #45: @13 = mac(@11,@14,@13) */
  for (i=0, rr=(&w13); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w11+j, ct=w14+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #46: @0 = (@0+@13) */
  w00 += w13;
  /* #47: @13 = @7[2] */
  for (rr=(&w13), cs=w07+2; cs!=w07+3; cs+=1) *rr++ = *cs;
  /* #48: @17 = sq(@13) */
  w17 = casadi_sq( w13 );
  /* #49: @0 = (@0+@17) */
  w00 += w17;
  /* #50: @17 = 0 */
  w17 = 0.;
  /* #51: @15 = zeros(1x2) */
  casadi_clear(w15, 2);
  /* #52: @18 = @2[6:8] */
  wr18 = wr02+6;
  /* #53: @19 = @4[6:8] */
  wr19 = wr04+6;
  /* #54: @18 = (@18-@19) */
  for (i=0, rr=w18, cr=wr18, cs=wr19; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #55: @18 = @18' */
  /* #56: @20 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w20);
  /* #57: @15 = mac(@18,@20,@15) */
  for (i=0, rr=w15; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w18+j, ct=w20+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #58: @18 = @2[6:8] */
  wr18 = wr02+6;
  /* #59: @19 = @4[6:8] */
  wr19 = wr04+6;
  /* #60: @18 = (@18-@19) */
  for (i=0, rr=w18, cr=wr18, cs=wr19; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #61: @17 = mac(@15,@18,@17) */
  for (i=0, rr=(&w17); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w15+j, ct=w18+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #62: @0 = (@0+@17) */
  w00 += w17;
  /* #63: @17 = @7[3] */
  for (rr=(&w17), cs=w07+3; cs!=w07+4; cs+=1) *rr++ = *cs;
  /* #64: @21 = sq(@17) */
  w21 = casadi_sq( w17 );
  /* #65: @0 = (@0+@21) */
  w00 += w21;
  /* #66: @21 = 0 */
  w21 = 0.;
  /* #67: @19 = zeros(1x2) */
  casadi_clear(w19, 2);
  /* #68: @22 = @2[8:10] */
  wr22 = wr02+8;
  /* #69: @23 = @4[8:10] */
  wr23 = wr04+8;
  /* #70: @22 = (@22-@23) */
  for (i=0, rr=w22, cr=wr22, cs=wr23; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #71: @22 = @22' */
  /* #72: @24 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w24);
  /* #73: @19 = mac(@22,@24,@19) */
  for (i=0, rr=w19; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w22+j, ct=w24+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #74: @22 = @2[8:10] */
  wr22 = wr02+8;
  /* #75: @23 = @4[8:10] */
  wr23 = wr04+8;
  /* #76: @22 = (@22-@23) */
  for (i=0, rr=w22, cr=wr22, cs=wr23; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #77: @21 = mac(@19,@22,@21) */
  for (i=0, rr=(&w21); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w19+j, ct=w22+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #78: @0 = (@0+@21) */
  w00 += w21;
  /* #79: @21 = @7[4] */
  for (rr=(&w21), cs=w07+4; cs!=w07+5; cs+=1) *rr++ = *cs;
  /* #80: @25 = sq(@21) */
  w25 = casadi_sq( w21 );
  /* #81: @0 = (@0+@25) */
  w00 += w25;
  /* #82: @25 = 0 */
  w25 = 0.;
  /* #83: @23 = zeros(1x2) */
  casadi_clear(w23, 2);
  /* #84: @26 = @2[10:12] */
  wr26 = wr02+10;
  /* #85: @27 = @4[10:12] */
  wr27 = wr04+10;
  /* #86: @26 = (@26-@27) */
  for (i=0, rr=w26, cr=wr26, cs=wr27; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #87: @26 = @26' */
  /* #88: @28 = 
  [[5000, 0], 
   [0, 10]] */
  casadi_copy(casadi_c1, 4, w28);
  /* #89: @23 = mac(@26,@28,@23) */
  for (i=0, rr=w23; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w26+j, ct=w28+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #90: @26 = @2[10:12] */
  wr26 = wr02+10;
  /* #91: @27 = @4[10:12] */
  wr27 = wr04+10;
  /* #92: @26 = (@26-@27) */
  for (i=0, rr=w26, cr=wr26, cs=wr27; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #93: @25 = mac(@23,@26,@25) */
  for (i=0, rr=(&w25); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w23+j, ct=w26+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #94: @0 = (@0+@25) */
  w00 += w25;
  /* #95: output[0][0] = @0 */
  if (res[0]) res[0][0] = w00;
  /* #96: @27 = @2[:2] */
  wr27 = wr02+0;
  /* #97: output[1][0] = @27 */
  casadi_copy(wr27, 2, res[1]);
  /* #98: @27 = @2[2:4] */
  wr27 = wr02+2;
  /* #99: @29 = zeros(2x1) */
  casadi_clear(w29, 2);
  /* #100: @30 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w30);
  /* #101: @31 = @2[:2] */
  wr31 = wr02+0;
  /* #102: @29 = mac(@30,@31,@29) */
  for (i=0, rr=w29; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w30+j, ct=wr31+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #103: @31 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w31);
  /* #104: @0 = @7[0] */
  for (rr=(&w00), cs=w07+0; cs!=w07+1; cs+=1) *rr++ = *cs;
  /* #105: @32 = (@31*@0) */
  for (i=0, rr=w32, cr=w31; i<2; ++i) (*rr++)  = ((*cr++)*w00);
  /* #106: @29 = (@29+@32) */
  for (i=0, rr=w29, cs=w32; i<2; ++i) (*rr++) += (*cs++);
  /* #107: @27 = (@27-@29) */
  for (i=0, rr=w27, cr=wr27, cs=w29; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #108: output[1][1] = @27 */
  if (res[1]) casadi_copy(w27, 2, res[1]+2);
  /* #109: @0 = @7[0] */
  for (rr=(&w00), cs=w07+0; cs!=w07+1; cs+=1) *rr++ = *cs;
  /* #110: output[1][2] = @0 */
  if (res[1]) res[1][4] = w00;
  /* #111: @0 = @7[0] */
  for (rr=(&w00), cs=w07+0; cs!=w07+1; cs+=1) *rr++ = *cs;
  /* #112: output[1][3] = @0 */
  if (res[1]) res[1][5] = w00;
  /* #113: @27 = @2[4:6] */
  wr27 = wr02+4;
  /* #114: @29 = zeros(2x1) */
  casadi_clear(w29, 2);
  /* #115: @33 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w33);
  /* #116: @32 = @2[2:4] */
  wr32 = wr02+2;
  /* #117: @29 = mac(@33,@32,@29) */
  for (i=0, rr=w29; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w33+j, ct=wr32+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #118: @32 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w32);
  /* #119: @0 = @7[1] */
  for (rr=(&w00), cs=w07+1; cs!=w07+2; cs+=1) *rr++ = *cs;
  /* #120: @34 = (@32*@0) */
  for (i=0, rr=w34, cr=w32; i<2; ++i) (*rr++)  = ((*cr++)*w00);
  /* #121: @29 = (@29+@34) */
  for (i=0, rr=w29, cs=w34; i<2; ++i) (*rr++) += (*cs++);
  /* #122: @27 = (@27-@29) */
  for (i=0, rr=w27, cr=wr27, cs=w29; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #123: output[1][4] = @27 */
  if (res[1]) casadi_copy(w27, 2, res[1]+6);
  /* #124: @0 = @7[1] */
  for (rr=(&w00), cs=w07+1; cs!=w07+2; cs+=1) *rr++ = *cs;
  /* #125: output[1][5] = @0 */
  if (res[1]) res[1][8] = w00;
  /* #126: @0 = @7[1] */
  for (rr=(&w00), cs=w07+1; cs!=w07+2; cs+=1) *rr++ = *cs;
  /* #127: output[1][6] = @0 */
  if (res[1]) res[1][9] = w00;
  /* #128: @27 = @2[6:8] */
  wr27 = wr02+6;
  /* #129: @29 = zeros(2x1) */
  casadi_clear(w29, 2);
  /* #130: @35 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w35);
  /* #131: @34 = @2[4:6] */
  wr34 = wr02+4;
  /* #132: @29 = mac(@35,@34,@29) */
  for (i=0, rr=w29; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w35+j, ct=wr34+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #133: @34 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w34);
  /* #134: @0 = @7[2] */
  for (rr=(&w00), cs=w07+2; cs!=w07+3; cs+=1) *rr++ = *cs;
  /* #135: @36 = (@34*@0) */
  for (i=0, rr=w36, cr=w34; i<2; ++i) (*rr++)  = ((*cr++)*w00);
  /* #136: @29 = (@29+@36) */
  for (i=0, rr=w29, cs=w36; i<2; ++i) (*rr++) += (*cs++);
  /* #137: @27 = (@27-@29) */
  for (i=0, rr=w27, cr=wr27, cs=w29; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #138: output[1][7] = @27 */
  if (res[1]) casadi_copy(w27, 2, res[1]+10);
  /* #139: @0 = @7[2] */
  for (rr=(&w00), cs=w07+2; cs!=w07+3; cs+=1) *rr++ = *cs;
  /* #140: output[1][8] = @0 */
  if (res[1]) res[1][12] = w00;
  /* #141: @0 = @7[2] */
  for (rr=(&w00), cs=w07+2; cs!=w07+3; cs+=1) *rr++ = *cs;
  /* #142: output[1][9] = @0 */
  if (res[1]) res[1][13] = w00;
  /* #143: @27 = @2[8:10] */
  wr27 = wr02+8;
  /* #144: @29 = zeros(2x1) */
  casadi_clear(w29, 2);
  /* #145: @37 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w37);
  /* #146: @36 = @2[6:8] */
  wr36 = wr02+6;
  /* #147: @29 = mac(@37,@36,@29) */
  for (i=0, rr=w29; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w37+j, ct=wr36+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #148: @36 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w36);
  /* #149: @0 = @7[3] */
  for (rr=(&w00), cs=w07+3; cs!=w07+4; cs+=1) *rr++ = *cs;
  /* #150: @38 = (@36*@0) */
  for (i=0, rr=w38, cr=w36; i<2; ++i) (*rr++)  = ((*cr++)*w00);
  /* #151: @29 = (@29+@38) */
  for (i=0, rr=w29, cs=w38; i<2; ++i) (*rr++) += (*cs++);
  /* #152: @27 = (@27-@29) */
  for (i=0, rr=w27, cr=wr27, cs=w29; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #153: output[1][10] = @27 */
  if (res[1]) casadi_copy(w27, 2, res[1]+14);
  /* #154: @0 = @7[3] */
  for (rr=(&w00), cs=w07+3; cs!=w07+4; cs+=1) *rr++ = *cs;
  /* #155: output[1][11] = @0 */
  if (res[1]) res[1][16] = w00;
  /* #156: @0 = @7[3] */
  for (rr=(&w00), cs=w07+3; cs!=w07+4; cs+=1) *rr++ = *cs;
  /* #157: output[1][12] = @0 */
  if (res[1]) res[1][17] = w00;
  /* #158: @27 = @2[10:12] */
  wr27 = wr02+10;
  /* #159: @29 = zeros(2x1) */
  casadi_clear(w29, 2);
  /* #160: @39 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w39);
  /* #161: @38 = @2[8:10] */
  wr38 = wr02+8;
  /* #162: @29 = mac(@39,@38,@29) */
  for (i=0, rr=w29; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w39+j, ct=wr38+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #163: @38 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w38);
  /* #164: @0 = @7[4] */
  for (rr=(&w00), cs=w07+4; cs!=w07+5; cs+=1) *rr++ = *cs;
  /* #165: @40 = (@38*@0) */
  for (i=0, rr=w40, cr=w38; i<2; ++i) (*rr++)  = ((*cr++)*w00);
  /* #166: @29 = (@29+@40) */
  for (i=0, rr=w29, cs=w40; i<2; ++i) (*rr++) += (*cs++);
  /* #167: @27 = (@27-@29) */
  for (i=0, rr=w27, cr=wr27, cs=w29; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #168: output[1][13] = @27 */
  if (res[1]) casadi_copy(w27, 2, res[1]+18);
  /* #169: @0 = @7[4] */
  for (rr=(&w00), cs=w07+4; cs!=w07+5; cs+=1) *rr++ = *cs;
  /* #170: output[1][14] = @0 */
  if (res[1]) res[1][20] = w00;
  /* #171: @0 = @7[4] */
  for (rr=(&w00), cs=w07+4; cs!=w07+5; cs+=1) *rr++ = *cs;
  /* #172: output[1][15] = @0 */
  if (res[1]) res[1][21] = w00;
  /* #173: @2 = zeros(2x6) */
  casadi_clear(w02, 12);
  /* #174: @27 = zeros(2x1) */
  casadi_clear(w27, 2);
  /* #175: @41 = @39' */
  for (i=0, rr=w41, cs=w39; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #176: @42 = input[3][0] */
  wr42 = arg[3] ? arg[3] : casadi_zeros;
  /* #177: {@29, @40, @0, @25, @43, @44, @45, @46, @47, @48, @49, @50, @51, @52, @53, @54} = vertsplit(@42) */
  wr29 = wr42;
  wr40 = wr42+2;
  w00 = wr42[4];
  w25 = wr42[5];
  wr43 = wr42+6;
  w44 = wr42[8];
  w45 = wr42[9];
  wr46 = wr42+10;
  w47 = wr42[12];
  w48 = wr42[13];
  wr49 = wr42+14;
  w50 = wr42[16];
  w51 = wr42[17];
  wr52 = wr42+18;
  w53 = wr42[20];
  w54 = wr42[21];
  /* #178: @55 = (-@52) */
  for (i=0, rr=w55, cs=wr52; i<2; ++i) *rr++ = (- *cs++ );
  /* #179: @27 = mac(@41,@55,@27) */
  for (i=0, rr=w27; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w41+j, ct=w55+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #180: (@2[8:10] += @27) */
  for (rr=w02+8, cs=w27; rr!=w02+10; rr+=1) *rr += *cs++;
  /* #181: (@2[10:12] += @52) */
  for (rr=w02+10, cs=wr52; rr!=w02+12; rr+=1) *rr += *cs++;
  /* #182: @52 = zeros(2x1) */
  casadi_clear(w52, 2);
  /* #183: @41 = @37' */
  for (i=0, rr=w41, cs=w37; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #184: @27 = (-@49) */
  for (i=0, rr=w27, cs=wr49; i<2; ++i) *rr++ = (- *cs++ );
  /* #185: @52 = mac(@41,@27,@52) */
  for (i=0, rr=w52; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w41+j, ct=w27+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #186: (@2[6:8] += @52) */
  for (rr=w02+6, cs=w52; rr!=w02+8; rr+=1) *rr += *cs++;
  /* #187: (@2[8:10] += @49) */
  for (rr=w02+8, cs=wr49; rr!=w02+10; rr+=1) *rr += *cs++;
  /* #188: @49 = zeros(2x1) */
  casadi_clear(w49, 2);
  /* #189: @41 = @35' */
  for (i=0, rr=w41, cs=w35; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #190: @52 = (-@46) */
  for (i=0, rr=w52, cs=wr46; i<2; ++i) *rr++ = (- *cs++ );
  /* #191: @49 = mac(@41,@52,@49) */
  for (i=0, rr=w49; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w41+j, ct=w52+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #192: (@2[4:6] += @49) */
  for (rr=w02+4, cs=w49; rr!=w02+6; rr+=1) *rr += *cs++;
  /* #193: (@2[6:8] += @46) */
  for (rr=w02+6, cs=wr46; rr!=w02+8; rr+=1) *rr += *cs++;
  /* #194: @46 = zeros(2x1) */
  casadi_clear(w46, 2);
  /* #195: @41 = @33' */
  for (i=0, rr=w41, cs=w33; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #196: @49 = (-@43) */
  for (i=0, rr=w49, cs=wr43; i<2; ++i) *rr++ = (- *cs++ );
  /* #197: @46 = mac(@41,@49,@46) */
  for (i=0, rr=w46; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w41+j, ct=w49+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #198: (@2[2:4] += @46) */
  for (rr=w02+2, cs=w46; rr!=w02+4; rr+=1) *rr += *cs++;
  /* #199: (@2[4:6] += @43) */
  for (rr=w02+4, cs=wr43; rr!=w02+6; rr+=1) *rr += *cs++;
  /* #200: @43 = zeros(2x1) */
  casadi_clear(w43, 2);
  /* #201: @41 = @30' */
  for (i=0, rr=w41, cs=w30; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #202: @46 = (-@40) */
  for (i=0, rr=w46, cs=wr40; i<2; ++i) *rr++ = (- *cs++ );
  /* #203: @43 = mac(@41,@46,@43) */
  for (i=0, rr=w43; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w41+j, ct=w46+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #204: (@2[:2] += @43) */
  for (rr=w02+0, cs=w43; rr!=w02+2; rr+=1) *rr += *cs++;
  /* #205: (@2[2:4] += @40) */
  for (rr=w02+2, cs=wr40; rr!=w02+4; rr+=1) *rr += *cs++;
  /* #206: (@2[:2] += @29) */
  for (rr=w02+0, cs=wr29; rr!=w02+2; rr+=1) *rr += *cs++;
  /* #207: @29 = @23' */
  casadi_copy(w23, 2, w29);
  /* #208: @56 = input[2][0] */
  w56 = arg[2] ? arg[2][0] : 0;
  /* #209: @29 = (@29*@56) */
  for (i=0, rr=w29; i<2; ++i) (*rr++) *= w56;
  /* #210: (@2[10:12] += @29) */
  for (rr=w02+10, cs=w29; rr!=w02+12; rr+=1) *rr += *cs++;
  /* #211: @29 = zeros(1x2) */
  casadi_clear(w29, 2);
  /* #212: @40 = @26' */
  casadi_copy(w26, 2, w40);
  /* #213: @40 = (@56*@40) */
  for (i=0, rr=w40, cs=w40; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #214: @41 = @28' */
  for (i=0, rr=w41, cs=w28; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #215: @29 = mac(@40,@41,@29) */
  for (i=0, rr=w29; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w40+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #216: @29 = @29' */
  /* #217: (@2[10:12] += @29) */
  for (rr=w02+10, cs=w29; rr!=w02+12; rr+=1) *rr += *cs++;
  /* #218: @29 = @19' */
  casadi_copy(w19, 2, w29);
  /* #219: @29 = (@29*@56) */
  for (i=0, rr=w29; i<2; ++i) (*rr++) *= w56;
  /* #220: (@2[8:10] += @29) */
  for (rr=w02+8, cs=w29; rr!=w02+10; rr+=1) *rr += *cs++;
  /* #221: @29 = zeros(1x2) */
  casadi_clear(w29, 2);
  /* #222: @40 = @22' */
  casadi_copy(w22, 2, w40);
  /* #223: @40 = (@56*@40) */
  for (i=0, rr=w40, cs=w40; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #224: @41 = @24' */
  for (i=0, rr=w41, cs=w24; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #225: @29 = mac(@40,@41,@29) */
  for (i=0, rr=w29; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w40+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #226: @29 = @29' */
  /* #227: (@2[8:10] += @29) */
  for (rr=w02+8, cs=w29; rr!=w02+10; rr+=1) *rr += *cs++;
  /* #228: @29 = @15' */
  casadi_copy(w15, 2, w29);
  /* #229: @29 = (@29*@56) */
  for (i=0, rr=w29; i<2; ++i) (*rr++) *= w56;
  /* #230: (@2[6:8] += @29) */
  for (rr=w02+6, cs=w29; rr!=w02+8; rr+=1) *rr += *cs++;
  /* #231: @29 = zeros(1x2) */
  casadi_clear(w29, 2);
  /* #232: @40 = @18' */
  casadi_copy(w18, 2, w40);
  /* #233: @40 = (@56*@40) */
  for (i=0, rr=w40, cs=w40; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #234: @41 = @20' */
  for (i=0, rr=w41, cs=w20; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #235: @29 = mac(@40,@41,@29) */
  for (i=0, rr=w29; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w40+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #236: @29 = @29' */
  /* #237: (@2[6:8] += @29) */
  for (rr=w02+6, cs=w29; rr!=w02+8; rr+=1) *rr += *cs++;
  /* #238: @29 = @11' */
  casadi_copy(w11, 2, w29);
  /* #239: @29 = (@29*@56) */
  for (i=0, rr=w29; i<2; ++i) (*rr++) *= w56;
  /* #240: (@2[4:6] += @29) */
  for (rr=w02+4, cs=w29; rr!=w02+6; rr+=1) *rr += *cs++;
  /* #241: @29 = zeros(1x2) */
  casadi_clear(w29, 2);
  /* #242: @40 = @14' */
  casadi_copy(w14, 2, w40);
  /* #243: @40 = (@56*@40) */
  for (i=0, rr=w40, cs=w40; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #244: @41 = @16' */
  for (i=0, rr=w41, cs=w16; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #245: @29 = mac(@40,@41,@29) */
  for (i=0, rr=w29; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w40+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #246: @29 = @29' */
  /* #247: (@2[4:6] += @29) */
  for (rr=w02+4, cs=w29; rr!=w02+6; rr+=1) *rr += *cs++;
  /* #248: @29 = @5' */
  casadi_copy(w05, 2, w29);
  /* #249: @29 = (@29*@56) */
  for (i=0, rr=w29; i<2; ++i) (*rr++) *= w56;
  /* #250: (@2[2:4] += @29) */
  for (rr=w02+2, cs=w29; rr!=w02+4; rr+=1) *rr += *cs++;
  /* #251: @29 = zeros(1x2) */
  casadi_clear(w29, 2);
  /* #252: @40 = @10' */
  casadi_copy(w10, 2, w40);
  /* #253: @40 = (@56*@40) */
  for (i=0, rr=w40, cs=w40; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #254: @41 = @12' */
  for (i=0, rr=w41, cs=w12; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #255: @29 = mac(@40,@41,@29) */
  for (i=0, rr=w29; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w40+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #256: @29 = @29' */
  /* #257: (@2[2:4] += @29) */
  for (rr=w02+2, cs=w29; rr!=w02+4; rr+=1) *rr += *cs++;
  /* #258: @29 = @1' */
  casadi_copy(w01, 2, w29);
  /* #259: @29 = (@29*@56) */
  for (i=0, rr=w29; i<2; ++i) (*rr++) *= w56;
  /* #260: (@2[:2] += @29) */
  for (rr=w02+0, cs=w29; rr!=w02+2; rr+=1) *rr += *cs++;
  /* #261: @29 = zeros(1x2) */
  casadi_clear(w29, 2);
  /* #262: @40 = @3' */
  casadi_copy(w03, 2, w40);
  /* #263: @40 = (@56*@40) */
  for (i=0, rr=w40, cs=w40; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #264: @41 = @6' */
  for (i=0, rr=w41, cs=w06; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #265: @29 = mac(@40,@41,@29) */
  for (i=0, rr=w29; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w40+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #266: @29 = @29' */
  /* #267: (@2[:2] += @29) */
  for (rr=w02+0, cs=w29; rr!=w02+2; rr+=1) *rr += *cs++;
  /* #268: output[2][0] = @2 */
  casadi_copy(w02, 12, res[2]);
  /* #269: @7 = zeros(1x5) */
  casadi_clear(w07, 5);
  /* #270: (@7[4] += @54) */
  for (rr=w07+4, cs=(&w54); rr!=w07+5; rr+=1) *rr += *cs++;
  /* #271: (@7[4] += @53) */
  for (rr=w07+4, cs=(&w53); rr!=w07+5; rr+=1) *rr += *cs++;
  /* #272: @53 = dot(@38, @55) */
  w53 = casadi_dot(2, w38, w55);
  /* #273: (@7[4] += @53) */
  for (rr=w07+4, cs=(&w53); rr!=w07+5; rr+=1) *rr += *cs++;
  /* #274: (@7[3] += @51) */
  for (rr=w07+3, cs=(&w51); rr!=w07+4; rr+=1) *rr += *cs++;
  /* #275: (@7[3] += @50) */
  for (rr=w07+3, cs=(&w50); rr!=w07+4; rr+=1) *rr += *cs++;
  /* #276: @50 = dot(@36, @27) */
  w50 = casadi_dot(2, w36, w27);
  /* #277: (@7[3] += @50) */
  for (rr=w07+3, cs=(&w50); rr!=w07+4; rr+=1) *rr += *cs++;
  /* #278: (@7[2] += @48) */
  for (rr=w07+2, cs=(&w48); rr!=w07+3; rr+=1) *rr += *cs++;
  /* #279: (@7[2] += @47) */
  for (rr=w07+2, cs=(&w47); rr!=w07+3; rr+=1) *rr += *cs++;
  /* #280: @47 = dot(@34, @52) */
  w47 = casadi_dot(2, w34, w52);
  /* #281: (@7[2] += @47) */
  for (rr=w07+2, cs=(&w47); rr!=w07+3; rr+=1) *rr += *cs++;
  /* #282: (@7[1] += @45) */
  for (rr=w07+1, cs=(&w45); rr!=w07+2; rr+=1) *rr += *cs++;
  /* #283: (@7[1] += @44) */
  for (rr=w07+1, cs=(&w44); rr!=w07+2; rr+=1) *rr += *cs++;
  /* #284: @44 = dot(@32, @49) */
  w44 = casadi_dot(2, w32, w49);
  /* #285: (@7[1] += @44) */
  for (rr=w07+1, cs=(&w44); rr!=w07+2; rr+=1) *rr += *cs++;
  /* #286: (@7[0] += @25) */
  for (rr=w07+0, cs=(&w25); rr!=w07+1; rr+=1) *rr += *cs++;
  /* #287: (@7[0] += @0) */
  for (rr=w07+0, cs=(&w00); rr!=w07+1; rr+=1) *rr += *cs++;
  /* #288: @0 = dot(@31, @46) */
  w00 = casadi_dot(2, w31, w46);
  /* #289: (@7[0] += @0) */
  for (rr=w07+0, cs=(&w00); rr!=w07+1; rr+=1) *rr += *cs++;
  /* #290: @21 = (2.*@21) */
  w21 = (2.* w21 );
  /* #291: @21 = (@21*@56) */
  w21 *= w56;
  /* #292: (@7[4] += @21) */
  for (rr=w07+4, cs=(&w21); rr!=w07+5; rr+=1) *rr += *cs++;
  /* #293: @17 = (2.*@17) */
  w17 = (2.* w17 );
  /* #294: @17 = (@17*@56) */
  w17 *= w56;
  /* #295: (@7[3] += @17) */
  for (rr=w07+3, cs=(&w17); rr!=w07+4; rr+=1) *rr += *cs++;
  /* #296: @13 = (2.*@13) */
  w13 = (2.* w13 );
  /* #297: @13 = (@13*@56) */
  w13 *= w56;
  /* #298: (@7[2] += @13) */
  for (rr=w07+2, cs=(&w13); rr!=w07+3; rr+=1) *rr += *cs++;
  /* #299: @9 = (2.*@9) */
  w09 = (2.* w09 );
  /* #300: @9 = (@9*@56) */
  w09 *= w56;
  /* #301: (@7[1] += @9) */
  for (rr=w07+1, cs=(&w09); rr!=w07+2; rr+=1) *rr += *cs++;
  /* #302: @8 = (2.*@8) */
  w08 = (2.* w08 );
  /* #303: @8 = (@8*@56) */
  w08 *= w56;
  /* #304: (@7[0] += @8) */
  for (rr=w07+0, cs=(&w08); rr!=w07+1; rr+=1) *rr += *cs++;
  /* #305: output[2][1] = @7 */
  if (res[2]) casadi_copy(w07, 5, res[2]+12);
  /* #306: @57 = zeros(2x1,0nz) */
  /* #307: @2 = zeros(2x6) */
  casadi_clear(w02, 12);
  /* #308: @23 = @23' */
  /* #309: @23 = (@23*@56) */
  for (i=0, rr=w23; i<2; ++i) (*rr++) *= w56;
  /* #310: @23 = (-@23) */
  for (i=0, rr=w23, cs=w23; i<2; ++i) *rr++ = (- *cs++ );
  /* #311: (@2[10:12] += @23) */
  for (rr=w02+10, cs=w23; rr!=w02+12; rr+=1) *rr += *cs++;
  /* #312: @23 = zeros(1x2) */
  casadi_clear(w23, 2);
  /* #313: @26 = @26' */
  /* #314: @26 = (@56*@26) */
  for (i=0, rr=w26, cs=w26; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #315: @41 = @28' */
  for (i=0, rr=w41, cs=w28; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #316: @23 = mac(@26,@41,@23) */
  for (i=0, rr=w23; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w26+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #317: @23 = @23' */
  /* #318: @23 = (-@23) */
  for (i=0, rr=w23, cs=w23; i<2; ++i) *rr++ = (- *cs++ );
  /* #319: (@2[10:12] += @23) */
  for (rr=w02+10, cs=w23; rr!=w02+12; rr+=1) *rr += *cs++;
  /* #320: @19 = @19' */
  /* #321: @19 = (@19*@56) */
  for (i=0, rr=w19; i<2; ++i) (*rr++) *= w56;
  /* #322: @19 = (-@19) */
  for (i=0, rr=w19, cs=w19; i<2; ++i) *rr++ = (- *cs++ );
  /* #323: (@2[8:10] += @19) */
  for (rr=w02+8, cs=w19; rr!=w02+10; rr+=1) *rr += *cs++;
  /* #324: @19 = zeros(1x2) */
  casadi_clear(w19, 2);
  /* #325: @22 = @22' */
  /* #326: @22 = (@56*@22) */
  for (i=0, rr=w22, cs=w22; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #327: @41 = @24' */
  for (i=0, rr=w41, cs=w24; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #328: @19 = mac(@22,@41,@19) */
  for (i=0, rr=w19; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w22+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #329: @19 = @19' */
  /* #330: @19 = (-@19) */
  for (i=0, rr=w19, cs=w19; i<2; ++i) *rr++ = (- *cs++ );
  /* #331: (@2[8:10] += @19) */
  for (rr=w02+8, cs=w19; rr!=w02+10; rr+=1) *rr += *cs++;
  /* #332: @15 = @15' */
  /* #333: @15 = (@15*@56) */
  for (i=0, rr=w15; i<2; ++i) (*rr++) *= w56;
  /* #334: @15 = (-@15) */
  for (i=0, rr=w15, cs=w15; i<2; ++i) *rr++ = (- *cs++ );
  /* #335: (@2[6:8] += @15) */
  for (rr=w02+6, cs=w15; rr!=w02+8; rr+=1) *rr += *cs++;
  /* #336: @15 = zeros(1x2) */
  casadi_clear(w15, 2);
  /* #337: @18 = @18' */
  /* #338: @18 = (@56*@18) */
  for (i=0, rr=w18, cs=w18; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #339: @41 = @20' */
  for (i=0, rr=w41, cs=w20; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #340: @15 = mac(@18,@41,@15) */
  for (i=0, rr=w15; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w18+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #341: @15 = @15' */
  /* #342: @15 = (-@15) */
  for (i=0, rr=w15, cs=w15; i<2; ++i) *rr++ = (- *cs++ );
  /* #343: (@2[6:8] += @15) */
  for (rr=w02+6, cs=w15; rr!=w02+8; rr+=1) *rr += *cs++;
  /* #344: @11 = @11' */
  /* #345: @11 = (@11*@56) */
  for (i=0, rr=w11; i<2; ++i) (*rr++) *= w56;
  /* #346: @11 = (-@11) */
  for (i=0, rr=w11, cs=w11; i<2; ++i) *rr++ = (- *cs++ );
  /* #347: (@2[4:6] += @11) */
  for (rr=w02+4, cs=w11; rr!=w02+6; rr+=1) *rr += *cs++;
  /* #348: @11 = zeros(1x2) */
  casadi_clear(w11, 2);
  /* #349: @14 = @14' */
  /* #350: @14 = (@56*@14) */
  for (i=0, rr=w14, cs=w14; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #351: @41 = @16' */
  for (i=0, rr=w41, cs=w16; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #352: @11 = mac(@14,@41,@11) */
  for (i=0, rr=w11; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w14+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #353: @11 = @11' */
  /* #354: @11 = (-@11) */
  for (i=0, rr=w11, cs=w11; i<2; ++i) *rr++ = (- *cs++ );
  /* #355: (@2[4:6] += @11) */
  for (rr=w02+4, cs=w11; rr!=w02+6; rr+=1) *rr += *cs++;
  /* #356: @5 = @5' */
  /* #357: @5 = (@5*@56) */
  for (i=0, rr=w05; i<2; ++i) (*rr++) *= w56;
  /* #358: @5 = (-@5) */
  for (i=0, rr=w05, cs=w05; i<2; ++i) *rr++ = (- *cs++ );
  /* #359: (@2[2:4] += @5) */
  for (rr=w02+2, cs=w05; rr!=w02+4; rr+=1) *rr += *cs++;
  /* #360: @5 = zeros(1x2) */
  casadi_clear(w05, 2);
  /* #361: @10 = @10' */
  /* #362: @10 = (@56*@10) */
  for (i=0, rr=w10, cs=w10; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #363: @41 = @12' */
  for (i=0, rr=w41, cs=w12; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #364: @5 = mac(@10,@41,@5) */
  for (i=0, rr=w05; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w10+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #365: @5 = @5' */
  /* #366: @5 = (-@5) */
  for (i=0, rr=w05, cs=w05; i<2; ++i) *rr++ = (- *cs++ );
  /* #367: (@2[2:4] += @5) */
  for (rr=w02+2, cs=w05; rr!=w02+4; rr+=1) *rr += *cs++;
  /* #368: @1 = @1' */
  /* #369: @1 = (@1*@56) */
  for (i=0, rr=w01; i<2; ++i) (*rr++) *= w56;
  /* #370: @1 = (-@1) */
  for (i=0, rr=w01, cs=w01; i<2; ++i) *rr++ = (- *cs++ );
  /* #371: (@2[:2] += @1) */
  for (rr=w02+0, cs=w01; rr!=w02+2; rr+=1) *rr += *cs++;
  /* #372: @1 = zeros(1x2) */
  casadi_clear(w01, 2);
  /* #373: @3 = @3' */
  /* #374: @3 = (@56*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w56*(*cs++));
  /* #375: @41 = @6' */
  for (i=0, rr=w41, cs=w06; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #376: @1 = mac(@3,@41,@1) */
  for (i=0, rr=w01; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w03+j, ct=w41+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #377: @1 = @1' */
  /* #378: @1 = (-@1) */
  for (i=0, rr=w01, cs=w01; i<2; ++i) *rr++ = (- *cs++ );
  /* #379: (@2[:2] += @1) */
  for (rr=w02+0, cs=w01; rr!=w02+2; rr+=1) *rr += *cs++;
  /* #380: @2 = vec(@2) */
  /* #381: @4 = vertcat(@57, @2) */
  rr=w04;
  for (i=0, cs=w02; i<12; ++i) *rr++ = *cs++;
  /* #382: @58 = dense(@4) */
  casadi_densify(w04, casadi_s0, w58, 0);
  /* #383: output[3][0] = @58 */
  casadi_copy(w58, 14, res[3]);
  return 0;
}

/* nlp_fg:(x[17],p[14])->(f,g[22]) */
static int casadi_f3(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, int mem) {
  casadi_int i, j, k;
  casadi_real *rr, w0, *w1=w+3, *w3=w+17, *w5=w+31, *w6=w+33, *w7=w+37, w8;
  const casadi_real *cr, *cs, *ct, *wr1, *wr2, *wr3, *wr4, *wr5;
  /* #0: @0 = 0 */
  w0 = 0.;
  /* #1: @1 = zeros(1x2) */
  casadi_clear(w1, 2);
  /* #2: @2 = input[0][0] */
  wr2 = arg[0] ? arg[0] : casadi_zeros;
  /* #3: @3 = @2[:2] */
  wr3 = wr2+0;
  /* #4: @4 = input[1][1] */
  wr4 = arg[1] ? arg[1]+2 : casadi_zeros;
  /* #5: @5 = @4[:2] */
  wr5 = wr4+0;
  /* #6: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #7: @3 = @3' */
  /* #8: @6 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w6);
  /* #9: @1 = mac(@3,@6,@1) */
  for (i=0, rr=w1; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w3+j, ct=w6+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #10: @3 = @2[:2] */
  wr3 = wr2+0;
  /* #11: @5 = @4[:2] */
  wr5 = wr4+0;
  /* #12: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #13: @0 = mac(@1,@3,@0) */
  for (i=0, rr=(&w0); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w1+j, ct=w3+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #14: @7 = input[0][1] */
  casadi_copy(arg[0] ? arg[0]+12 : 0, 5, w7);
  /* #15: @8 = @7[0] */
  for (rr=(&w8), cs=w7+0; cs!=w7+1; cs+=1) *rr++ = *cs;
  /* #16: @8 = sq(@8) */
  w8 = casadi_sq( w8 );
  /* #17: @0 = (@0+@8) */
  w0 += w8;
  /* #18: @8 = 0 */
  w8 = 0.;
  /* #19: @1 = zeros(1x2) */
  casadi_clear(w1, 2);
  /* #20: @3 = @2[2:4] */
  wr3 = wr2+2;
  /* #21: @5 = @4[2:4] */
  wr5 = wr4+2;
  /* #22: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #23: @3 = @3' */
  /* #24: @6 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w6);
  /* #25: @1 = mac(@3,@6,@1) */
  for (i=0, rr=w1; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w3+j, ct=w6+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #26: @3 = @2[2:4] */
  wr3 = wr2+2;
  /* #27: @5 = @4[2:4] */
  wr5 = wr4+2;
  /* #28: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #29: @8 = mac(@1,@3,@8) */
  for (i=0, rr=(&w8); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w1+j, ct=w3+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #30: @0 = (@0+@8) */
  w0 += w8;
  /* #31: @8 = @7[1] */
  for (rr=(&w8), cs=w7+1; cs!=w7+2; cs+=1) *rr++ = *cs;
  /* #32: @8 = sq(@8) */
  w8 = casadi_sq( w8 );
  /* #33: @0 = (@0+@8) */
  w0 += w8;
  /* #34: @8 = 0 */
  w8 = 0.;
  /* #35: @1 = zeros(1x2) */
  casadi_clear(w1, 2);
  /* #36: @3 = @2[4:6] */
  wr3 = wr2+4;
  /* #37: @5 = @4[4:6] */
  wr5 = wr4+4;
  /* #38: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #39: @3 = @3' */
  /* #40: @6 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w6);
  /* #41: @1 = mac(@3,@6,@1) */
  for (i=0, rr=w1; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w3+j, ct=w6+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #42: @3 = @2[4:6] */
  wr3 = wr2+4;
  /* #43: @5 = @4[4:6] */
  wr5 = wr4+4;
  /* #44: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #45: @8 = mac(@1,@3,@8) */
  for (i=0, rr=(&w8); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w1+j, ct=w3+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #46: @0 = (@0+@8) */
  w0 += w8;
  /* #47: @8 = @7[2] */
  for (rr=(&w8), cs=w7+2; cs!=w7+3; cs+=1) *rr++ = *cs;
  /* #48: @8 = sq(@8) */
  w8 = casadi_sq( w8 );
  /* #49: @0 = (@0+@8) */
  w0 += w8;
  /* #50: @8 = 0 */
  w8 = 0.;
  /* #51: @1 = zeros(1x2) */
  casadi_clear(w1, 2);
  /* #52: @3 = @2[6:8] */
  wr3 = wr2+6;
  /* #53: @5 = @4[6:8] */
  wr5 = wr4+6;
  /* #54: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #55: @3 = @3' */
  /* #56: @6 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w6);
  /* #57: @1 = mac(@3,@6,@1) */
  for (i=0, rr=w1; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w3+j, ct=w6+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #58: @3 = @2[6:8] */
  wr3 = wr2+6;
  /* #59: @5 = @4[6:8] */
  wr5 = wr4+6;
  /* #60: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #61: @8 = mac(@1,@3,@8) */
  for (i=0, rr=(&w8); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w1+j, ct=w3+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #62: @0 = (@0+@8) */
  w0 += w8;
  /* #63: @8 = @7[3] */
  for (rr=(&w8), cs=w7+3; cs!=w7+4; cs+=1) *rr++ = *cs;
  /* #64: @8 = sq(@8) */
  w8 = casadi_sq( w8 );
  /* #65: @0 = (@0+@8) */
  w0 += w8;
  /* #66: @8 = 0 */
  w8 = 0.;
  /* #67: @1 = zeros(1x2) */
  casadi_clear(w1, 2);
  /* #68: @3 = @2[8:10] */
  wr3 = wr2+8;
  /* #69: @5 = @4[8:10] */
  wr5 = wr4+8;
  /* #70: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #71: @3 = @3' */
  /* #72: @6 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w6);
  /* #73: @1 = mac(@3,@6,@1) */
  for (i=0, rr=w1; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w3+j, ct=w6+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #74: @3 = @2[8:10] */
  wr3 = wr2+8;
  /* #75: @5 = @4[8:10] */
  wr5 = wr4+8;
  /* #76: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #77: @8 = mac(@1,@3,@8) */
  for (i=0, rr=(&w8); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w1+j, ct=w3+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #78: @0 = (@0+@8) */
  w0 += w8;
  /* #79: @8 = @7[4] */
  for (rr=(&w8), cs=w7+4; cs!=w7+5; cs+=1) *rr++ = *cs;
  /* #80: @8 = sq(@8) */
  w8 = casadi_sq( w8 );
  /* #81: @0 = (@0+@8) */
  w0 += w8;
  /* #82: @8 = 0 */
  w8 = 0.;
  /* #83: @1 = zeros(1x2) */
  casadi_clear(w1, 2);
  /* #84: @3 = @2[10:12] */
  wr3 = wr2+10;
  /* #85: @5 = @4[10:12] */
  wr5 = wr4+10;
  /* #86: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #87: @3 = @3' */
  /* #88: @6 = 
  [[5000, 0], 
   [0, 10]] */
  casadi_copy(casadi_c1, 4, w6);
  /* #89: @1 = mac(@3,@6,@1) */
  for (i=0, rr=w1; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w3+j, ct=w6+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #90: @3 = @2[10:12] */
  wr3 = wr2+10;
  /* #91: @5 = @4[10:12] */
  wr5 = wr4+10;
  /* #92: @3 = (@3-@5) */
  for (i=0, rr=w3, cr=wr3, cs=wr5; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #93: @8 = mac(@1,@3,@8) */
  for (i=0, rr=(&w8); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w1+j, ct=w3+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #94: @0 = (@0+@8) */
  w0 += w8;
  /* #95: output[0][0] = @0 */
  if (res[0]) res[0][0] = w0;
  /* #96: @1 = @2[:2] */
  wr1 = wr2+0;
  /* #97: output[1][0] = @1 */
  casadi_copy(wr1, 2, res[1]);
  /* #98: @1 = @2[2:4] */
  wr1 = wr2+2;
  /* #99: @3 = zeros(2x1) */
  casadi_clear(w3, 2);
  /* #100: @6 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w6);
  /* #101: @5 = @2[:2] */
  wr5 = wr2+0;
  /* #102: @3 = mac(@6,@5,@3) */
  for (i=0, rr=w3; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w6+j, ct=wr5+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #103: @5 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w5);
  /* #104: @0 = @7[0] */
  for (rr=(&w0), cs=w7+0; cs!=w7+1; cs+=1) *rr++ = *cs;
  /* #105: @5 = (@5*@0) */
  for (i=0, rr=w5; i<2; ++i) (*rr++) *= w0;
  /* #106: @3 = (@3+@5) */
  for (i=0, rr=w3, cs=w5; i<2; ++i) (*rr++) += (*cs++);
  /* #107: @1 = (@1-@3) */
  for (i=0, rr=w1, cr=wr1, cs=w3; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #108: output[1][1] = @1 */
  if (res[1]) casadi_copy(w1, 2, res[1]+2);
  /* #109: @0 = @7[0] */
  for (rr=(&w0), cs=w7+0; cs!=w7+1; cs+=1) *rr++ = *cs;
  /* #110: output[1][2] = @0 */
  if (res[1]) res[1][4] = w0;
  /* #111: @0 = @7[0] */
  for (rr=(&w0), cs=w7+0; cs!=w7+1; cs+=1) *rr++ = *cs;
  /* #112: output[1][3] = @0 */
  if (res[1]) res[1][5] = w0;
  /* #113: @1 = @2[4:6] */
  wr1 = wr2+4;
  /* #114: @3 = zeros(2x1) */
  casadi_clear(w3, 2);
  /* #115: @6 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w6);
  /* #116: @5 = @2[2:4] */
  wr5 = wr2+2;
  /* #117: @3 = mac(@6,@5,@3) */
  for (i=0, rr=w3; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w6+j, ct=wr5+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #118: @5 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w5);
  /* #119: @0 = @7[1] */
  for (rr=(&w0), cs=w7+1; cs!=w7+2; cs+=1) *rr++ = *cs;
  /* #120: @5 = (@5*@0) */
  for (i=0, rr=w5; i<2; ++i) (*rr++) *= w0;
  /* #121: @3 = (@3+@5) */
  for (i=0, rr=w3, cs=w5; i<2; ++i) (*rr++) += (*cs++);
  /* #122: @1 = (@1-@3) */
  for (i=0, rr=w1, cr=wr1, cs=w3; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #123: output[1][4] = @1 */
  if (res[1]) casadi_copy(w1, 2, res[1]+6);
  /* #124: @0 = @7[1] */
  for (rr=(&w0), cs=w7+1; cs!=w7+2; cs+=1) *rr++ = *cs;
  /* #125: output[1][5] = @0 */
  if (res[1]) res[1][8] = w0;
  /* #126: @0 = @7[1] */
  for (rr=(&w0), cs=w7+1; cs!=w7+2; cs+=1) *rr++ = *cs;
  /* #127: output[1][6] = @0 */
  if (res[1]) res[1][9] = w0;
  /* #128: @1 = @2[6:8] */
  wr1 = wr2+6;
  /* #129: @3 = zeros(2x1) */
  casadi_clear(w3, 2);
  /* #130: @6 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w6);
  /* #131: @5 = @2[4:6] */
  wr5 = wr2+4;
  /* #132: @3 = mac(@6,@5,@3) */
  for (i=0, rr=w3; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w6+j, ct=wr5+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #133: @5 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w5);
  /* #134: @0 = @7[2] */
  for (rr=(&w0), cs=w7+2; cs!=w7+3; cs+=1) *rr++ = *cs;
  /* #135: @5 = (@5*@0) */
  for (i=0, rr=w5; i<2; ++i) (*rr++) *= w0;
  /* #136: @3 = (@3+@5) */
  for (i=0, rr=w3, cs=w5; i<2; ++i) (*rr++) += (*cs++);
  /* #137: @1 = (@1-@3) */
  for (i=0, rr=w1, cr=wr1, cs=w3; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #138: output[1][7] = @1 */
  if (res[1]) casadi_copy(w1, 2, res[1]+10);
  /* #139: @0 = @7[2] */
  for (rr=(&w0), cs=w7+2; cs!=w7+3; cs+=1) *rr++ = *cs;
  /* #140: output[1][8] = @0 */
  if (res[1]) res[1][12] = w0;
  /* #141: @0 = @7[2] */
  for (rr=(&w0), cs=w7+2; cs!=w7+3; cs+=1) *rr++ = *cs;
  /* #142: output[1][9] = @0 */
  if (res[1]) res[1][13] = w0;
  /* #143: @1 = @2[8:10] */
  wr1 = wr2+8;
  /* #144: @3 = zeros(2x1) */
  casadi_clear(w3, 2);
  /* #145: @6 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w6);
  /* #146: @5 = @2[6:8] */
  wr5 = wr2+6;
  /* #147: @3 = mac(@6,@5,@3) */
  for (i=0, rr=w3; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w6+j, ct=wr5+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #148: @5 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w5);
  /* #149: @0 = @7[3] */
  for (rr=(&w0), cs=w7+3; cs!=w7+4; cs+=1) *rr++ = *cs;
  /* #150: @5 = (@5*@0) */
  for (i=0, rr=w5; i<2; ++i) (*rr++) *= w0;
  /* #151: @3 = (@3+@5) */
  for (i=0, rr=w3, cs=w5; i<2; ++i) (*rr++) += (*cs++);
  /* #152: @1 = (@1-@3) */
  for (i=0, rr=w1, cr=wr1, cs=w3; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #153: output[1][10] = @1 */
  if (res[1]) casadi_copy(w1, 2, res[1]+14);
  /* #154: @0 = @7[3] */
  for (rr=(&w0), cs=w7+3; cs!=w7+4; cs+=1) *rr++ = *cs;
  /* #155: output[1][11] = @0 */
  if (res[1]) res[1][16] = w0;
  /* #156: @0 = @7[3] */
  for (rr=(&w0), cs=w7+3; cs!=w7+4; cs+=1) *rr++ = *cs;
  /* #157: output[1][12] = @0 */
  if (res[1]) res[1][17] = w0;
  /* #158: @1 = @2[10:12] */
  wr1 = wr2+10;
  /* #159: @3 = zeros(2x1) */
  casadi_clear(w3, 2);
  /* #160: @6 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w6);
  /* #161: @5 = @2[8:10] */
  wr5 = wr2+8;
  /* #162: @3 = mac(@6,@5,@3) */
  for (i=0, rr=w3; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w6+j, ct=wr5+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #163: @5 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w5);
  /* #164: @0 = @7[4] */
  for (rr=(&w0), cs=w7+4; cs!=w7+5; cs+=1) *rr++ = *cs;
  /* #165: @5 = (@5*@0) */
  for (i=0, rr=w5; i<2; ++i) (*rr++) *= w0;
  /* #166: @3 = (@3+@5) */
  for (i=0, rr=w3, cs=w5; i<2; ++i) (*rr++) += (*cs++);
  /* #167: @1 = (@1-@3) */
  for (i=0, rr=w1, cr=wr1, cs=w3; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #168: output[1][13] = @1 */
  if (res[1]) casadi_copy(w1, 2, res[1]+18);
  /* #169: @0 = @7[4] */
  for (rr=(&w0), cs=w7+4; cs!=w7+5; cs+=1) *rr++ = *cs;
  /* #170: output[1][14] = @0 */
  if (res[1]) res[1][20] = w0;
  /* #171: @0 = @7[4] */
  for (rr=(&w0), cs=w7+4; cs!=w7+5; cs+=1) *rr++ = *cs;
  /* #172: output[1][15] = @0 */
  if (res[1]) res[1][21] = w0;
  return 0;
}

/* nlp_jac_fg:(x[17],p[14])->(f,grad_f_x[17],g[22],jac_g_x[22x17,52nz]) */
static int casadi_f4(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, int mem) {
  casadi_int i, j, k;
  casadi_real *rr, w00, *w01=w+3, *w03=w+17, *w04=w+19, *w05=w+31, *w06=w+33, *w07=w+37, w08, w09, *w10=w+44, *w11=w+46;
  casadi_real *w12=w+48, w13, *w14=w+53, *w15=w+55, *w16=w+57, w17, *w18=w+62, *w19=w+64, *w20=w+66, w21, *w22=w+71, *w23=w+73;
  casadi_real *w24=w+75, w25, *w26=w+80, *w28=w+84, *w29=w+88, *w30=w+92, *w31=w+97, *w32=w+149, *w33=w+152, *w44=w+155, *w45=w+164, *w47=w+173;
  casadi_real *w48=w+181, *w49=w+189, *w50=w+199, w51, *w52=w+210, *w53=w+226, *w54=w+242;
  const casadi_int *cii;
  const casadi_real *cr, *cs, *ct, *wr01, *wr02, *wr03, *wr04, *wr05, *wr10, *wr11, *wr14, *wr15;
  const casadi_real *wr18, *wr19, *wr22, *wr23, *wr26, *wr27;
  /* #0: @0 = 0 */
  w00 = 0.;
  /* #1: @1 = zeros(1x2) */
  casadi_clear(w01, 2);
  /* #2: @2 = input[0][0] */
  wr02 = arg[0] ? arg[0] : casadi_zeros;
  /* #3: @3 = @2[:2] */
  wr03 = wr02+0;
  /* #4: @4 = input[1][1] */
  wr04 = arg[1] ? arg[1]+2 : casadi_zeros;
  /* #5: @5 = @4[:2] */
  wr05 = wr04+0;
  /* #6: @3 = (@3-@5) */
  for (i=0, rr=w03, cr=wr03, cs=wr05; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #7: @3 = @3' */
  /* #8: @6 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w06);
  /* #9: @1 = mac(@3,@6,@1) */
  for (i=0, rr=w01; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w03+j, ct=w06+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #10: @3 = @2[:2] */
  wr03 = wr02+0;
  /* #11: @5 = @4[:2] */
  wr05 = wr04+0;
  /* #12: @3 = (@3-@5) */
  for (i=0, rr=w03, cr=wr03, cs=wr05; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #13: @0 = mac(@1,@3,@0) */
  for (i=0, rr=(&w00); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w01+j, ct=w03+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #14: @7 = input[0][1] */
  casadi_copy(arg[0] ? arg[0]+12 : 0, 5, w07);
  /* #15: @8 = @7[0] */
  for (rr=(&w08), cs=w07+0; cs!=w07+1; cs+=1) *rr++ = *cs;
  /* #16: @9 = sq(@8) */
  w09 = casadi_sq( w08 );
  /* #17: @0 = (@0+@9) */
  w00 += w09;
  /* #18: @9 = 0 */
  w09 = 0.;
  /* #19: @5 = zeros(1x2) */
  casadi_clear(w05, 2);
  /* #20: @10 = @2[2:4] */
  wr10 = wr02+2;
  /* #21: @11 = @4[2:4] */
  wr11 = wr04+2;
  /* #22: @10 = (@10-@11) */
  for (i=0, rr=w10, cr=wr10, cs=wr11; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #23: @10 = @10' */
  /* #24: @12 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w12);
  /* #25: @5 = mac(@10,@12,@5) */
  for (i=0, rr=w05; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w10+j, ct=w12+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #26: @10 = @2[2:4] */
  wr10 = wr02+2;
  /* #27: @11 = @4[2:4] */
  wr11 = wr04+2;
  /* #28: @10 = (@10-@11) */
  for (i=0, rr=w10, cr=wr10, cs=wr11; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #29: @9 = mac(@5,@10,@9) */
  for (i=0, rr=(&w09); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w05+j, ct=w10+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #30: @0 = (@0+@9) */
  w00 += w09;
  /* #31: @9 = @7[1] */
  for (rr=(&w09), cs=w07+1; cs!=w07+2; cs+=1) *rr++ = *cs;
  /* #32: @13 = sq(@9) */
  w13 = casadi_sq( w09 );
  /* #33: @0 = (@0+@13) */
  w00 += w13;
  /* #34: @13 = 0 */
  w13 = 0.;
  /* #35: @11 = zeros(1x2) */
  casadi_clear(w11, 2);
  /* #36: @14 = @2[4:6] */
  wr14 = wr02+4;
  /* #37: @15 = @4[4:6] */
  wr15 = wr04+4;
  /* #38: @14 = (@14-@15) */
  for (i=0, rr=w14, cr=wr14, cs=wr15; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #39: @14 = @14' */
  /* #40: @16 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w16);
  /* #41: @11 = mac(@14,@16,@11) */
  for (i=0, rr=w11; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w14+j, ct=w16+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #42: @14 = @2[4:6] */
  wr14 = wr02+4;
  /* #43: @15 = @4[4:6] */
  wr15 = wr04+4;
  /* #44: @14 = (@14-@15) */
  for (i=0, rr=w14, cr=wr14, cs=wr15; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #45: @13 = mac(@11,@14,@13) */
  for (i=0, rr=(&w13); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w11+j, ct=w14+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #46: @0 = (@0+@13) */
  w00 += w13;
  /* #47: @13 = @7[2] */
  for (rr=(&w13), cs=w07+2; cs!=w07+3; cs+=1) *rr++ = *cs;
  /* #48: @17 = sq(@13) */
  w17 = casadi_sq( w13 );
  /* #49: @0 = (@0+@17) */
  w00 += w17;
  /* #50: @17 = 0 */
  w17 = 0.;
  /* #51: @15 = zeros(1x2) */
  casadi_clear(w15, 2);
  /* #52: @18 = @2[6:8] */
  wr18 = wr02+6;
  /* #53: @19 = @4[6:8] */
  wr19 = wr04+6;
  /* #54: @18 = (@18-@19) */
  for (i=0, rr=w18, cr=wr18, cs=wr19; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #55: @18 = @18' */
  /* #56: @20 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w20);
  /* #57: @15 = mac(@18,@20,@15) */
  for (i=0, rr=w15; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w18+j, ct=w20+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #58: @18 = @2[6:8] */
  wr18 = wr02+6;
  /* #59: @19 = @4[6:8] */
  wr19 = wr04+6;
  /* #60: @18 = (@18-@19) */
  for (i=0, rr=w18, cr=wr18, cs=wr19; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #61: @17 = mac(@15,@18,@17) */
  for (i=0, rr=(&w17); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w15+j, ct=w18+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #62: @0 = (@0+@17) */
  w00 += w17;
  /* #63: @17 = @7[3] */
  for (rr=(&w17), cs=w07+3; cs!=w07+4; cs+=1) *rr++ = *cs;
  /* #64: @21 = sq(@17) */
  w21 = casadi_sq( w17 );
  /* #65: @0 = (@0+@21) */
  w00 += w21;
  /* #66: @21 = 0 */
  w21 = 0.;
  /* #67: @19 = zeros(1x2) */
  casadi_clear(w19, 2);
  /* #68: @22 = @2[8:10] */
  wr22 = wr02+8;
  /* #69: @23 = @4[8:10] */
  wr23 = wr04+8;
  /* #70: @22 = (@22-@23) */
  for (i=0, rr=w22, cr=wr22, cs=wr23; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #71: @22 = @22' */
  /* #72: @24 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w24);
  /* #73: @19 = mac(@22,@24,@19) */
  for (i=0, rr=w19; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w22+j, ct=w24+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #74: @22 = @2[8:10] */
  wr22 = wr02+8;
  /* #75: @23 = @4[8:10] */
  wr23 = wr04+8;
  /* #76: @22 = (@22-@23) */
  for (i=0, rr=w22, cr=wr22, cs=wr23; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #77: @21 = mac(@19,@22,@21) */
  for (i=0, rr=(&w21); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w19+j, ct=w22+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #78: @0 = (@0+@21) */
  w00 += w21;
  /* #79: @21 = @7[4] */
  for (rr=(&w21), cs=w07+4; cs!=w07+5; cs+=1) *rr++ = *cs;
  /* #80: @25 = sq(@21) */
  w25 = casadi_sq( w21 );
  /* #81: @0 = (@0+@25) */
  w00 += w25;
  /* #82: @25 = 0 */
  w25 = 0.;
  /* #83: @23 = zeros(1x2) */
  casadi_clear(w23, 2);
  /* #84: @26 = @2[10:12] */
  wr26 = wr02+10;
  /* #85: @27 = @4[10:12] */
  wr27 = wr04+10;
  /* #86: @26 = (@26-@27) */
  for (i=0, rr=w26, cr=wr26, cs=wr27; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #87: @26 = @26' */
  /* #88: @28 = 
  [[5000, 0], 
   [0, 10]] */
  casadi_copy(casadi_c1, 4, w28);
  /* #89: @23 = mac(@26,@28,@23) */
  for (i=0, rr=w23; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w26+j, ct=w28+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #90: @26 = @2[10:12] */
  wr26 = wr02+10;
  /* #91: @27 = @4[10:12] */
  wr27 = wr04+10;
  /* #92: @26 = (@26-@27) */
  for (i=0, rr=w26, cr=wr26, cs=wr27; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #93: @25 = mac(@23,@26,@25) */
  for (i=0, rr=(&w25); i<1; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w23+j, ct=w26+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #94: @0 = (@0+@25) */
  w00 += w25;
  /* #95: output[0][0] = @0 */
  if (res[0]) res[0][0] = w00;
  /* #96: @4 = zeros(2x6) */
  casadi_clear(w04, 12);
  /* #97: @23 = @23' */
  /* #98: (@4[10:12] += @23) */
  for (rr=w04+10, cs=w23; rr!=w04+12; rr+=1) *rr += *cs++;
  /* #99: @23 = zeros(1x2) */
  casadi_clear(w23, 2);
  /* #100: @26 = @26' */
  /* #101: @29 = @28' */
  for (i=0, rr=w29, cs=w28; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #102: @23 = mac(@26,@29,@23) */
  for (i=0, rr=w23; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w26+j, ct=w29+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #103: @23 = @23' */
  /* #104: (@4[10:12] += @23) */
  for (rr=w04+10, cs=w23; rr!=w04+12; rr+=1) *rr += *cs++;
  /* #105: @19 = @19' */
  /* #106: (@4[8:10] += @19) */
  for (rr=w04+8, cs=w19; rr!=w04+10; rr+=1) *rr += *cs++;
  /* #107: @19 = zeros(1x2) */
  casadi_clear(w19, 2);
  /* #108: @22 = @22' */
  /* #109: @29 = @24' */
  for (i=0, rr=w29, cs=w24; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #110: @19 = mac(@22,@29,@19) */
  for (i=0, rr=w19; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w22+j, ct=w29+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #111: @19 = @19' */
  /* #112: (@4[8:10] += @19) */
  for (rr=w04+8, cs=w19; rr!=w04+10; rr+=1) *rr += *cs++;
  /* #113: @15 = @15' */
  /* #114: (@4[6:8] += @15) */
  for (rr=w04+6, cs=w15; rr!=w04+8; rr+=1) *rr += *cs++;
  /* #115: @15 = zeros(1x2) */
  casadi_clear(w15, 2);
  /* #116: @18 = @18' */
  /* #117: @29 = @20' */
  for (i=0, rr=w29, cs=w20; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #118: @15 = mac(@18,@29,@15) */
  for (i=0, rr=w15; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w18+j, ct=w29+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #119: @15 = @15' */
  /* #120: (@4[6:8] += @15) */
  for (rr=w04+6, cs=w15; rr!=w04+8; rr+=1) *rr += *cs++;
  /* #121: @11 = @11' */
  /* #122: (@4[4:6] += @11) */
  for (rr=w04+4, cs=w11; rr!=w04+6; rr+=1) *rr += *cs++;
  /* #123: @11 = zeros(1x2) */
  casadi_clear(w11, 2);
  /* #124: @14 = @14' */
  /* #125: @29 = @16' */
  for (i=0, rr=w29, cs=w16; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #126: @11 = mac(@14,@29,@11) */
  for (i=0, rr=w11; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w14+j, ct=w29+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #127: @11 = @11' */
  /* #128: (@4[4:6] += @11) */
  for (rr=w04+4, cs=w11; rr!=w04+6; rr+=1) *rr += *cs++;
  /* #129: @5 = @5' */
  /* #130: (@4[2:4] += @5) */
  for (rr=w04+2, cs=w05; rr!=w04+4; rr+=1) *rr += *cs++;
  /* #131: @5 = zeros(1x2) */
  casadi_clear(w05, 2);
  /* #132: @10 = @10' */
  /* #133: @29 = @12' */
  for (i=0, rr=w29, cs=w12; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #134: @5 = mac(@10,@29,@5) */
  for (i=0, rr=w05; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w10+j, ct=w29+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #135: @5 = @5' */
  /* #136: (@4[2:4] += @5) */
  for (rr=w04+2, cs=w05; rr!=w04+4; rr+=1) *rr += *cs++;
  /* #137: @1 = @1' */
  /* #138: (@4[:2] += @1) */
  for (rr=w04+0, cs=w01; rr!=w04+2; rr+=1) *rr += *cs++;
  /* #139: @1 = zeros(1x2) */
  casadi_clear(w01, 2);
  /* #140: @3 = @3' */
  /* #141: @29 = @6' */
  for (i=0, rr=w29, cs=w06; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #142: @1 = mac(@3,@29,@1) */
  for (i=0, rr=w01; i<2; ++i) for (j=0; j<1; ++j, ++rr) for (k=0, cs=w03+j, ct=w29+i*2; k<2; ++k) *rr += cs[k*1]**ct++;
  /* #143: @1 = @1' */
  /* #144: (@4[:2] += @1) */
  for (rr=w04+0, cs=w01; rr!=w04+2; rr+=1) *rr += *cs++;
  /* #145: output[1][0] = @4 */
  casadi_copy(w04, 12, res[1]);
  /* #146: @30 = zeros(1x5) */
  casadi_clear(w30, 5);
  /* #147: @21 = (2.*@21) */
  w21 = (2.* w21 );
  /* #148: (@30[4] += @21) */
  for (rr=w30+4, cs=(&w21); rr!=w30+5; rr+=1) *rr += *cs++;
  /* #149: @17 = (2.*@17) */
  w17 = (2.* w17 );
  /* #150: (@30[3] += @17) */
  for (rr=w30+3, cs=(&w17); rr!=w30+4; rr+=1) *rr += *cs++;
  /* #151: @13 = (2.*@13) */
  w13 = (2.* w13 );
  /* #152: (@30[2] += @13) */
  for (rr=w30+2, cs=(&w13); rr!=w30+3; rr+=1) *rr += *cs++;
  /* #153: @9 = (2.*@9) */
  w09 = (2.* w09 );
  /* #154: (@30[1] += @9) */
  for (rr=w30+1, cs=(&w09); rr!=w30+2; rr+=1) *rr += *cs++;
  /* #155: @8 = (2.*@8) */
  w08 = (2.* w08 );
  /* #156: (@30[0] += @8) */
  for (rr=w30+0, cs=(&w08); rr!=w30+1; rr+=1) *rr += *cs++;
  /* #157: output[1][1] = @30 */
  if (res[1]) casadi_copy(w30, 5, res[1]+12);
  /* #158: @1 = @2[:2] */
  wr01 = wr02+0;
  /* #159: output[2][0] = @1 */
  casadi_copy(wr01, 2, res[2]);
  /* #160: @1 = @2[2:4] */
  wr01 = wr02+2;
  /* #161: @3 = zeros(2x1) */
  casadi_clear(w03, 2);
  /* #162: @29 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w29);
  /* #163: @5 = @2[:2] */
  wr05 = wr02+0;
  /* #164: @3 = mac(@29,@5,@3) */
  for (i=0, rr=w03; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w29+j, ct=wr05+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #165: @5 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w05);
  /* #166: @8 = @7[0] */
  for (rr=(&w08), cs=w07+0; cs!=w07+1; cs+=1) *rr++ = *cs;
  /* #167: @10 = (@5*@8) */
  for (i=0, rr=w10, cr=w05; i<2; ++i) (*rr++)  = ((*cr++)*w08);
  /* #168: @3 = (@3+@10) */
  for (i=0, rr=w03, cs=w10; i<2; ++i) (*rr++) += (*cs++);
  /* #169: @1 = (@1-@3) */
  for (i=0, rr=w01, cr=wr01, cs=w03; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #170: output[2][1] = @1 */
  if (res[2]) casadi_copy(w01, 2, res[2]+2);
  /* #171: @8 = @7[0] */
  for (rr=(&w08), cs=w07+0; cs!=w07+1; cs+=1) *rr++ = *cs;
  /* #172: output[2][2] = @8 */
  if (res[2]) res[2][4] = w08;
  /* #173: @8 = @7[0] */
  for (rr=(&w08), cs=w07+0; cs!=w07+1; cs+=1) *rr++ = *cs;
  /* #174: output[2][3] = @8 */
  if (res[2]) res[2][5] = w08;
  /* #175: @1 = @2[4:6] */
  wr01 = wr02+4;
  /* #176: @3 = zeros(2x1) */
  casadi_clear(w03, 2);
  /* #177: @6 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w06);
  /* #178: @10 = @2[2:4] */
  wr10 = wr02+2;
  /* #179: @3 = mac(@6,@10,@3) */
  for (i=0, rr=w03; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w06+j, ct=wr10+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #180: @10 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w10);
  /* #181: @8 = @7[1] */
  for (rr=(&w08), cs=w07+1; cs!=w07+2; cs+=1) *rr++ = *cs;
  /* #182: @11 = (@10*@8) */
  for (i=0, rr=w11, cr=w10; i<2; ++i) (*rr++)  = ((*cr++)*w08);
  /* #183: @3 = (@3+@11) */
  for (i=0, rr=w03, cs=w11; i<2; ++i) (*rr++) += (*cs++);
  /* #184: @1 = (@1-@3) */
  for (i=0, rr=w01, cr=wr01, cs=w03; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #185: output[2][4] = @1 */
  if (res[2]) casadi_copy(w01, 2, res[2]+6);
  /* #186: @8 = @7[1] */
  for (rr=(&w08), cs=w07+1; cs!=w07+2; cs+=1) *rr++ = *cs;
  /* #187: output[2][5] = @8 */
  if (res[2]) res[2][8] = w08;
  /* #188: @8 = @7[1] */
  for (rr=(&w08), cs=w07+1; cs!=w07+2; cs+=1) *rr++ = *cs;
  /* #189: output[2][6] = @8 */
  if (res[2]) res[2][9] = w08;
  /* #190: @1 = @2[6:8] */
  wr01 = wr02+6;
  /* #191: @3 = zeros(2x1) */
  casadi_clear(w03, 2);
  /* #192: @12 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w12);
  /* #193: @11 = @2[4:6] */
  wr11 = wr02+4;
  /* #194: @3 = mac(@12,@11,@3) */
  for (i=0, rr=w03; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w12+j, ct=wr11+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #195: @11 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w11);
  /* #196: @8 = @7[2] */
  for (rr=(&w08), cs=w07+2; cs!=w07+3; cs+=1) *rr++ = *cs;
  /* #197: @14 = (@11*@8) */
  for (i=0, rr=w14, cr=w11; i<2; ++i) (*rr++)  = ((*cr++)*w08);
  /* #198: @3 = (@3+@14) */
  for (i=0, rr=w03, cs=w14; i<2; ++i) (*rr++) += (*cs++);
  /* #199: @1 = (@1-@3) */
  for (i=0, rr=w01, cr=wr01, cs=w03; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #200: output[2][7] = @1 */
  if (res[2]) casadi_copy(w01, 2, res[2]+10);
  /* #201: @8 = @7[2] */
  for (rr=(&w08), cs=w07+2; cs!=w07+3; cs+=1) *rr++ = *cs;
  /* #202: output[2][8] = @8 */
  if (res[2]) res[2][12] = w08;
  /* #203: @8 = @7[2] */
  for (rr=(&w08), cs=w07+2; cs!=w07+3; cs+=1) *rr++ = *cs;
  /* #204: output[2][9] = @8 */
  if (res[2]) res[2][13] = w08;
  /* #205: @1 = @2[8:10] */
  wr01 = wr02+8;
  /* #206: @3 = zeros(2x1) */
  casadi_clear(w03, 2);
  /* #207: @16 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w16);
  /* #208: @14 = @2[6:8] */
  wr14 = wr02+6;
  /* #209: @3 = mac(@16,@14,@3) */
  for (i=0, rr=w03; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w16+j, ct=wr14+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #210: @14 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w14);
  /* #211: @8 = @7[3] */
  for (rr=(&w08), cs=w07+3; cs!=w07+4; cs+=1) *rr++ = *cs;
  /* #212: @15 = (@14*@8) */
  for (i=0, rr=w15, cr=w14; i<2; ++i) (*rr++)  = ((*cr++)*w08);
  /* #213: @3 = (@3+@15) */
  for (i=0, rr=w03, cs=w15; i<2; ++i) (*rr++) += (*cs++);
  /* #214: @1 = (@1-@3) */
  for (i=0, rr=w01, cr=wr01, cs=w03; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #215: output[2][10] = @1 */
  if (res[2]) casadi_copy(w01, 2, res[2]+14);
  /* #216: @8 = @7[3] */
  for (rr=(&w08), cs=w07+3; cs!=w07+4; cs+=1) *rr++ = *cs;
  /* #217: output[2][11] = @8 */
  if (res[2]) res[2][16] = w08;
  /* #218: @8 = @7[3] */
  for (rr=(&w08), cs=w07+3; cs!=w07+4; cs+=1) *rr++ = *cs;
  /* #219: output[2][12] = @8 */
  if (res[2]) res[2][17] = w08;
  /* #220: @1 = @2[10:12] */
  wr01 = wr02+10;
  /* #221: @3 = zeros(2x1) */
  casadi_clear(w03, 2);
  /* #222: @20 = 
  [[1, 0.0181174], 
   [0, 0.817837]] */
  casadi_copy(casadi_c2, 4, w20);
  /* #223: @15 = @2[8:10] */
  wr15 = wr02+8;
  /* #224: @3 = mac(@20,@15,@3) */
  for (i=0, rr=w03; i<1; ++i) for (j=0; j<2; ++j, ++rr) for (k=0, cs=w20+j, ct=wr15+i*2; k<2; ++k) *rr += cs[k*2]**ct++;
  /* #225: @15 = [0.0448248, 4.33722] */
  casadi_copy(casadi_c3, 2, w15);
  /* #226: @8 = @7[4] */
  for (rr=(&w08), cs=w07+4; cs!=w07+5; cs+=1) *rr++ = *cs;
  /* #227: @18 = (@15*@8) */
  for (i=0, rr=w18, cr=w15; i<2; ++i) (*rr++)  = ((*cr++)*w08);
  /* #228: @3 = (@3+@18) */
  for (i=0, rr=w03, cs=w18; i<2; ++i) (*rr++) += (*cs++);
  /* #229: @1 = (@1-@3) */
  for (i=0, rr=w01, cr=wr01, cs=w03; i<2; ++i) (*rr++)  = ((*cr++)-(*cs++));
  /* #230: output[2][13] = @1 */
  if (res[2]) casadi_copy(w01, 2, res[2]+18);
  /* #231: @8 = @7[4] */
  for (rr=(&w08), cs=w07+4; cs!=w07+5; cs+=1) *rr++ = *cs;
  /* #232: output[2][14] = @8 */
  if (res[2]) res[2][20] = w08;
  /* #233: @8 = @7[4] */
  for (rr=(&w08), cs=w07+4; cs!=w07+5; cs+=1) *rr++ = *cs;
  /* #234: output[2][15] = @8 */
  if (res[2]) res[2][21] = w08;
  /* #235: @31 = zeros(17x22,52nz) */
  casadi_clear(w31, 52);
  /* #236: @32 = ones(17x1,3nz) */
  casadi_fill(w32, 3, 1.);
  /* #237: {@33, NULL} = vertsplit(@32) */
  casadi_copy(w32, 3, w33);
  /* #238: @33 = reshape(@33) */
  /* #239: @8 = @33[0] */
  for (rr=(&w08), cs=w33+0; cs!=w33+1; cs+=1) *rr++ = *cs;
  /* #240: @1 = zeros(2x1) */
  casadi_clear(w01, 2);
  /* #241: @9 = @33[0] */
  for (rr=(&w09), cs=w33+0; cs!=w33+1; cs+=1) *rr++ = *cs;
  /* #242: @1 = mac(@29,@9,@1) */
  casadi_mtimes(w29, casadi_s3, (&w09), casadi_s2, w01, casadi_s1, w, 0);
  /* #243: @1 = (-@1) */
  for (i=0, rr=w01, cs=w01; i<2; ++i) *rr++ = (- *cs++ );
  /* #244: @34 = 00 */
  /* #245: @35 = 00 */
  /* #246: @9 = @33[1] */
  for (rr=(&w09), cs=w33+1; cs!=w33+2; cs+=1) *rr++ = *cs;
  /* #247: @36 = 00 */
  /* #248: @37 = 00 */
  /* #249: @3 = zeros(2x1) */
  casadi_clear(w03, 2);
  /* #250: @13 = @33[1] */
  for (rr=(&w13), cs=w33+1; cs!=w33+2; cs+=1) *rr++ = *cs;
  /* #251: @3 = mac(@12,@13,@3) */
  casadi_mtimes(w12, casadi_s3, (&w13), casadi_s2, w03, casadi_s1, w, 0);
  /* #252: @3 = (-@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) *rr++ = (- *cs++ );
  /* #253: @38 = 00 */
  /* #254: @39 = 00 */
  /* #255: @13 = @33[2] */
  for (rr=(&w13), cs=w33+2; cs!=w33+3; cs+=1) *rr++ = *cs;
  /* #256: @40 = 00 */
  /* #257: @41 = 00 */
  /* #258: @18 = zeros(2x1) */
  casadi_clear(w18, 2);
  /* #259: @17 = @33[2] */
  for (rr=(&w17), cs=w33+2; cs!=w33+3; cs+=1) *rr++ = *cs;
  /* #260: @18 = mac(@20,@17,@18) */
  casadi_mtimes(w20, casadi_s3, (&w17), casadi_s2, w18, casadi_s1, w, 0);
  /* #261: @18 = (-@18) */
  for (i=0, rr=w18, cs=w18; i<2; ++i) *rr++ = (- *cs++ );
  /* #262: @42 = 00 */
  /* #263: @43 = 00 */
  /* #264: @44 = vertcat(@8, @1, @34, @35, @9, @36, @37, @3, @38, @39, @13, @40, @41, @18, @42, @43) */
  rr=w44;
  *rr++ = w08;
  for (i=0, cs=w01; i<2; ++i) *rr++ = *cs++;
  *rr++ = w09;
  for (i=0, cs=w03; i<2; ++i) *rr++ = *cs++;
  *rr++ = w13;
  for (i=0, cs=w18; i<2; ++i) *rr++ = *cs++;
  /* #265: @45 = @44[:9] */
  for (rr=w45, cs=w44+0; cs!=w44+9; cs+=1) *rr++ = *cs;
  /* #266: (@31[0, 2, 6, 14, 22, 26, 34, 42, 46] = @45) */
  for (cii=casadi_s4, rr=w31, cs=w45; cii!=casadi_s4+9; ++cii, ++cs) rr[*cii] = *cs;
  /* #267: @33 = ones(17x1,3nz) */
  casadi_fill(w33, 3, 1.);
  /* #268: {@32, NULL} = vertsplit(@33) */
  casadi_copy(w33, 3, w32);
  /* #269: @32 = reshape(@32) */
  /* #270: @8 = @32[0] */
  for (rr=(&w08), cs=w32+0; cs!=w32+1; cs+=1) *rr++ = *cs;
  /* #271: @1 = zeros(2x1) */
  casadi_clear(w01, 2);
  /* #272: @9 = @32[0] */
  for (rr=(&w09), cs=w32+0; cs!=w32+1; cs+=1) *rr++ = *cs;
  /* #273: @1 = mac(@29,@9,@1) */
  casadi_mtimes(w29, casadi_s3, (&w09), casadi_s5, w01, casadi_s1, w, 0);
  /* #274: @1 = (-@1) */
  for (i=0, rr=w01, cs=w01; i<2; ++i) *rr++ = (- *cs++ );
  /* #275: @34 = 00 */
  /* #276: @35 = 00 */
  /* #277: @9 = @32[1] */
  for (rr=(&w09), cs=w32+1; cs!=w32+2; cs+=1) *rr++ = *cs;
  /* #278: @36 = 00 */
  /* #279: @37 = 00 */
  /* #280: @3 = zeros(2x1) */
  casadi_clear(w03, 2);
  /* #281: @13 = @32[1] */
  for (rr=(&w13), cs=w32+1; cs!=w32+2; cs+=1) *rr++ = *cs;
  /* #282: @3 = mac(@12,@13,@3) */
  casadi_mtimes(w12, casadi_s3, (&w13), casadi_s5, w03, casadi_s1, w, 0);
  /* #283: @3 = (-@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) *rr++ = (- *cs++ );
  /* #284: @38 = 00 */
  /* #285: @39 = 00 */
  /* #286: @13 = @32[2] */
  for (rr=(&w13), cs=w32+2; cs!=w32+3; cs+=1) *rr++ = *cs;
  /* #287: @40 = 00 */
  /* #288: @41 = 00 */
  /* #289: @18 = zeros(2x1) */
  casadi_clear(w18, 2);
  /* #290: @17 = @32[2] */
  for (rr=(&w17), cs=w32+2; cs!=w32+3; cs+=1) *rr++ = *cs;
  /* #291: @18 = mac(@20,@17,@18) */
  casadi_mtimes(w20, casadi_s3, (&w17), casadi_s5, w18, casadi_s1, w, 0);
  /* #292: @18 = (-@18) */
  for (i=0, rr=w18, cs=w18; i<2; ++i) *rr++ = (- *cs++ );
  /* #293: @42 = 00 */
  /* #294: @43 = 00 */
  /* #295: @45 = vertcat(@8, @1, @34, @35, @9, @36, @37, @3, @38, @39, @13, @40, @41, @18, @42, @43) */
  rr=w45;
  *rr++ = w08;
  for (i=0, cs=w01; i<2; ++i) *rr++ = *cs++;
  *rr++ = w09;
  for (i=0, cs=w03; i<2; ++i) *rr++ = *cs++;
  *rr++ = w13;
  for (i=0, cs=w18; i<2; ++i) *rr++ = *cs++;
  /* #296: @44 = @45[:9] */
  for (rr=w44, cs=w45+0; cs!=w45+9; cs+=1) *rr++ = *cs;
  /* #297: (@31[1, 3, 7, 18, 23, 27, 38, 43, 47] = @44) */
  for (cii=casadi_s6, rr=w31, cs=w44; cii!=casadi_s6+9; ++cii, ++cs) rr[*cii] = *cs;
  /* #298: @34 = zeros(2x1,0nz) */
  /* #299: @20 = ones(17x1,4nz) */
  casadi_fill(w20, 4, 1.);
  /* #300: {@12, NULL} = vertsplit(@20) */
  casadi_copy(w20, 4, w12);
  /* #301: @12 = reshape(@12) */
  /* #302: @8 = @12[0] */
  for (rr=(&w08), cs=w12+0; cs!=w12+1; cs+=1) *rr++ = *cs;
  /* #303: @35 = 00 */
  /* #304: @36 = 00 */
  /* #305: @1 = zeros(2x1) */
  casadi_clear(w01, 2);
  /* #306: @9 = @12[0] */
  for (rr=(&w09), cs=w12+0; cs!=w12+1; cs+=1) *rr++ = *cs;
  /* #307: @1 = mac(@6,@9,@1) */
  casadi_mtimes(w06, casadi_s3, (&w09), casadi_s2, w01, casadi_s1, w, 0);
  /* #308: @1 = (-@1) */
  for (i=0, rr=w01, cs=w01; i<2; ++i) *rr++ = (- *cs++ );
  /* #309: @37 = 00 */
  /* #310: @38 = 00 */
  /* #311: @9 = @12[1] */
  for (rr=(&w09), cs=w12+1; cs!=w12+2; cs+=1) *rr++ = *cs;
  /* #312: @39 = 00 */
  /* #313: @40 = 00 */
  /* #314: @3 = zeros(2x1) */
  casadi_clear(w03, 2);
  /* #315: @13 = @12[1] */
  for (rr=(&w13), cs=w12+1; cs!=w12+2; cs+=1) *rr++ = *cs;
  /* #316: @3 = mac(@16,@13,@3) */
  casadi_mtimes(w16, casadi_s3, (&w13), casadi_s2, w03, casadi_s1, w, 0);
  /* #317: @3 = (-@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) *rr++ = (- *cs++ );
  /* #318: @41 = 00 */
  /* #319: @42 = 00 */
  /* #320: @18 = @12[2:4] */
  for (rr=w18, cs=w12+2; cs!=w12+4; cs+=1) *rr++ = *cs;
  /* #321: @43 = 00 */
  /* #322: @46 = 00 */
  /* #323: @47 = vertcat(@34, @8, @35, @36, @1, @37, @38, @9, @39, @40, @3, @41, @42, @18, @43, @46) */
  rr=w47;
  *rr++ = w08;
  for (i=0, cs=w01; i<2; ++i) *rr++ = *cs++;
  *rr++ = w09;
  for (i=0, cs=w03; i<2; ++i) *rr++ = *cs++;
  for (i=0, cs=w18; i<2; ++i) *rr++ = *cs++;
  /* #324: @48 = @47[:8] */
  for (rr=w48, cs=w47+0; cs!=w47+8; cs+=1) *rr++ = *cs;
  /* #325: (@31[4, 12, 16, 24, 32, 36, 44, 48] = @48) */
  for (cii=casadi_s7, rr=w31, cs=w48; cii!=casadi_s7+8; ++cii, ++cs) rr[*cii] = *cs;
  /* #326: @34 = zeros(2x1,0nz) */
  /* #327: @32 = ones(17x1,3nz) */
  casadi_fill(w32, 3, 1.);
  /* #328: {@1, @8} = vertsplit(@32) */
  casadi_copy(w32, 2, w01);
  w08 = w32[2];
  /* #329: @1 = reshape(@1) */
  /* #330: @9 = @1[0] */
  for (rr=(&w09), cs=w01+0; cs!=w01+1; cs+=1) *rr++ = *cs;
  /* #331: @35 = 00 */
  /* #332: @36 = 00 */
  /* #333: @3 = zeros(2x1) */
  casadi_clear(w03, 2);
  /* #334: @13 = @1[0] */
  for (rr=(&w13), cs=w01+0; cs!=w01+1; cs+=1) *rr++ = *cs;
  /* #335: @3 = mac(@6,@13,@3) */
  casadi_mtimes(w06, casadi_s3, (&w13), casadi_s5, w03, casadi_s1, w, 0);
  /* #336: @3 = (-@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) *rr++ = (- *cs++ );
  /* #337: @37 = 00 */
  /* #338: @38 = 00 */
  /* #339: @13 = @1[1] */
  for (rr=(&w13), cs=w01+1; cs!=w01+2; cs+=1) *rr++ = *cs;
  /* #340: @39 = 00 */
  /* #341: @40 = 00 */
  /* #342: @18 = zeros(2x1) */
  casadi_clear(w18, 2);
  /* #343: @17 = @1[1] */
  for (rr=(&w17), cs=w01+1; cs!=w01+2; cs+=1) *rr++ = *cs;
  /* #344: @18 = mac(@16,@17,@18) */
  casadi_mtimes(w16, casadi_s3, (&w17), casadi_s5, w18, casadi_s1, w, 0);
  /* #345: @18 = (-@18) */
  for (i=0, rr=w18, cs=w18; i<2; ++i) *rr++ = (- *cs++ );
  /* #346: @41 = 00 */
  /* #347: @42 = 00 */
  /* #348: @8 = @8' */
  /* #349: @17 = @8[0] */
  for (rr=(&w17), cs=(&w08)+0; cs!=(&w08)+1; cs+=1) *rr++ = *cs;
  /* #350: @15 = (@15*@17) */
  for (i=0, rr=w15; i<2; ++i) (*rr++) *= w17;
  /* #351: @15 = (-@15) */
  for (i=0, rr=w15, cs=w15; i<2; ++i) *rr++ = (- *cs++ );
  /* #352: @17 = @8[0] */
  for (rr=(&w17), cs=(&w08)+0; cs!=(&w08)+1; cs+=1) *rr++ = *cs;
  /* #353: @21 = @8[0] */
  for (rr=(&w21), cs=(&w08)+0; cs!=(&w08)+1; cs+=1) *rr++ = *cs;
  /* #354: @49 = vertcat(@34, @9, @35, @36, @3, @37, @38, @13, @39, @40, @18, @41, @42, @15, @17, @21) */
  rr=w49;
  *rr++ = w09;
  for (i=0, cs=w03; i<2; ++i) *rr++ = *cs++;
  *rr++ = w13;
  for (i=0, cs=w18; i<2; ++i) *rr++ = *cs++;
  for (i=0, cs=w15; i<2; ++i) *rr++ = *cs++;
  *rr++ = w17;
  *rr++ = w21;
  /* #355: @50 = @49[:10] */
  for (rr=w50, cs=w49+0; cs!=w49+10; cs+=1) *rr++ = *cs;
  /* #356: (@31[8, 13, 17, 28, 33, 37, 45, 49, 50, 51] = @50) */
  for (cii=casadi_s8, rr=w31, cs=w50; cii!=casadi_s8+10; ++cii, ++cs) rr[*cii] = *cs;
  /* #357: @34 = zeros(2x1,0nz) */
  /* #358: @16 = ones(17x1,4nz) */
  casadi_fill(w16, 4, 1.);
  /* #359: {NULL, @6} = vertsplit(@16) */
  casadi_copy(w16, 4, w06);
  /* #360: @6 = @6' */
  /* #361: @9 = @6[0] */
  for (rr=(&w09), cs=w06+0; cs!=w06+1; cs+=1) *rr++ = *cs;
  /* #362: @5 = (@5*@9) */
  for (i=0, rr=w05; i<2; ++i) (*rr++) *= w09;
  /* #363: @5 = (-@5) */
  for (i=0, rr=w05, cs=w05; i<2; ++i) *rr++ = (- *cs++ );
  /* #364: @9 = @6[0] */
  for (rr=(&w09), cs=w06+0; cs!=w06+1; cs+=1) *rr++ = *cs;
  /* #365: @13 = @6[0] */
  for (rr=(&w13), cs=w06+0; cs!=w06+1; cs+=1) *rr++ = *cs;
  /* #366: @17 = @6[1] */
  for (rr=(&w17), cs=w06+1; cs!=w06+2; cs+=1) *rr++ = *cs;
  /* #367: @10 = (@10*@17) */
  for (i=0, rr=w10; i<2; ++i) (*rr++) *= w17;
  /* #368: @10 = (-@10) */
  for (i=0, rr=w10, cs=w10; i<2; ++i) *rr++ = (- *cs++ );
  /* #369: @17 = @6[1] */
  for (rr=(&w17), cs=w06+1; cs!=w06+2; cs+=1) *rr++ = *cs;
  /* #370: @21 = @6[1] */
  for (rr=(&w21), cs=w06+1; cs!=w06+2; cs+=1) *rr++ = *cs;
  /* #371: @8 = @6[2] */
  for (rr=(&w08), cs=w06+2; cs!=w06+3; cs+=1) *rr++ = *cs;
  /* #372: @11 = (@11*@8) */
  for (i=0, rr=w11; i<2; ++i) (*rr++) *= w08;
  /* #373: @11 = (-@11) */
  for (i=0, rr=w11, cs=w11; i<2; ++i) *rr++ = (- *cs++ );
  /* #374: @8 = @6[2] */
  for (rr=(&w08), cs=w06+2; cs!=w06+3; cs+=1) *rr++ = *cs;
  /* #375: @0 = @6[2] */
  for (rr=(&w00), cs=w06+2; cs!=w06+3; cs+=1) *rr++ = *cs;
  /* #376: @25 = @6[3] */
  for (rr=(&w25), cs=w06+3; cs!=w06+4; cs+=1) *rr++ = *cs;
  /* #377: @14 = (@14*@25) */
  for (i=0, rr=w14; i<2; ++i) (*rr++) *= w25;
  /* #378: @14 = (-@14) */
  for (i=0, rr=w14, cs=w14; i<2; ++i) *rr++ = (- *cs++ );
  /* #379: @25 = @6[3] */
  for (rr=(&w25), cs=w06+3; cs!=w06+4; cs+=1) *rr++ = *cs;
  /* #380: @51 = @6[3] */
  for (rr=(&w51), cs=w06+3; cs!=w06+4; cs+=1) *rr++ = *cs;
  /* #381: @35 = zeros(2x1,0nz) */
  /* #382: @36 = 00 */
  /* #383: @37 = 00 */
  /* #384: @52 = vertcat(@34, @5, @9, @13, @10, @17, @21, @11, @8, @0, @14, @25, @51, @35, @36, @37) */
  rr=w52;
  for (i=0, cs=w05; i<2; ++i) *rr++ = *cs++;
  *rr++ = w09;
  *rr++ = w13;
  for (i=0, cs=w10; i<2; ++i) *rr++ = *cs++;
  *rr++ = w17;
  *rr++ = w21;
  for (i=0, cs=w11; i<2; ++i) *rr++ = *cs++;
  *rr++ = w08;
  *rr++ = w00;
  for (i=0, cs=w14; i<2; ++i) *rr++ = *cs++;
  *rr++ = w25;
  *rr++ = w51;
  /* #385: @53 = @52[:16] */
  for (rr=w53, cs=w52+0; cs!=w52+16; cs+=1) *rr++ = *cs;
  /* #386: (@31[5, 9, 10, 11, 15, 19, 20, 21, 25, 29, 30, 31, 35, 39, 40, 41] = @53) */
  for (cii=casadi_s9, rr=w31, cs=w53; cii!=casadi_s9+16; ++cii, ++cs) rr[*cii] = *cs;
  /* #387: @54 = @31' */
  casadi_trans(w31,casadi_s11, w54, casadi_s10, iw);
  /* #388: output[3][0] = @54 */
  casadi_copy(w54, 52, res[3]);
  return 0;
}

/* nlp_hess_l:(x[17],p[14],lam_f,lam_g[22])->(hess_gamma_x_x[17x17,29nz]) */
static int casadi_f5(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, int mem) {
  casadi_int i, j;
  casadi_real *rr, *tt, *w00=w+1, *w01=w+30, w02, *w03=w+43, *w04=w+45, *w05=w+56, *w06=w+62, w07, *w08=w+68, *w09=w+72;
  casadi_real *w10=w+76, *w11=w+80, *w12=w+84, *w13=w+88, *w14=w+92, *w15=w+96, *w16=w+100, *w17=w+104, *w18=w+108, *w19=w+112, *w20=w+116, *w21=w+121;
  casadi_real *w22=w+138, *w23=w+144;
  const casadi_int *cii;
  const casadi_real *cs;
  /* #0: @0 = zeros(17x17,29nz) */
  casadi_clear(w00, 29);
  /* #1: @1 = zeros(2x6) */
  casadi_clear(w01, 12);
  /* #2: @2 = input[2][0] */
  w02 = arg[2] ? arg[2][0] : 0;
  /* #3: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #4: @4 = ones(17x1,11nz) */
  casadi_fill(w04, 11, 1.);
  /* #5: {@5, @6} = vertsplit(@4) */
  casadi_copy(w04, 6, w05);
  casadi_copy(w04+6, 5, w06);
  /* #6: @5 = reshape(@5) */
  /* #7: @7 = @5[5] */
  for (rr=(&w07), cs=w05+5; cs!=w05+6; cs+=1) *rr++ = *cs;
  /* #8: @7 = @7' */
  /* #9: @8 = 
  [[5000, 0], 
   [0, 10]] */
  casadi_copy(casadi_c1, 4, w08);
  /* #10: @3 = mac(@7,@8,@3) */
  casadi_mtimes((&w07), casadi_s13, w08, casadi_s3, w03, casadi_s12, w, 0);
  /* #11: @3 = @3' */
  /* #12: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #13: (@1[10:12] += @3) */
  for (rr=w01+10, cs=w03; rr!=w01+12; rr+=1) *rr += *cs++;
  /* #14: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #15: @7 = @5[5] */
  for (rr=(&w07), cs=w05+5; cs!=w05+6; cs+=1) *rr++ = *cs;
  /* #16: @7 = @7' */
  /* #17: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #18: @9 = @8' */
  for (i=0, rr=w09, cs=w08; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #19: @3 = mac(@7,@9,@3) */
  casadi_mtimes((&w07), casadi_s13, w09, casadi_s3, w03, casadi_s12, w, 0);
  /* #20: @3 = @3' */
  /* #21: (@1[10:12] += @3) */
  for (rr=w01+10, cs=w03; rr!=w01+12; rr+=1) *rr += *cs++;
  /* #22: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #23: @7 = @5[4] */
  for (rr=(&w07), cs=w05+4; cs!=w05+5; cs+=1) *rr++ = *cs;
  /* #24: @7 = @7' */
  /* #25: @10 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w10);
  /* #26: @3 = mac(@7,@10,@3) */
  casadi_mtimes((&w07), casadi_s13, w10, casadi_s3, w03, casadi_s12, w, 0);
  /* #27: @3 = @3' */
  /* #28: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #29: (@1[8:10] += @3) */
  for (rr=w01+8, cs=w03; rr!=w01+10; rr+=1) *rr += *cs++;
  /* #30: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #31: @7 = @5[4] */
  for (rr=(&w07), cs=w05+4; cs!=w05+5; cs+=1) *rr++ = *cs;
  /* #32: @7 = @7' */
  /* #33: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #34: @11 = @10' */
  for (i=0, rr=w11, cs=w10; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #35: @3 = mac(@7,@11,@3) */
  casadi_mtimes((&w07), casadi_s13, w11, casadi_s3, w03, casadi_s12, w, 0);
  /* #36: @3 = @3' */
  /* #37: (@1[8:10] += @3) */
  for (rr=w01+8, cs=w03; rr!=w01+10; rr+=1) *rr += *cs++;
  /* #38: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #39: @7 = @5[3] */
  for (rr=(&w07), cs=w05+3; cs!=w05+4; cs+=1) *rr++ = *cs;
  /* #40: @7 = @7' */
  /* #41: @12 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w12);
  /* #42: @3 = mac(@7,@12,@3) */
  casadi_mtimes((&w07), casadi_s13, w12, casadi_s3, w03, casadi_s12, w, 0);
  /* #43: @3 = @3' */
  /* #44: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #45: (@1[6:8] += @3) */
  for (rr=w01+6, cs=w03; rr!=w01+8; rr+=1) *rr += *cs++;
  /* #46: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #47: @7 = @5[3] */
  for (rr=(&w07), cs=w05+3; cs!=w05+4; cs+=1) *rr++ = *cs;
  /* #48: @7 = @7' */
  /* #49: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #50: @13 = @12' */
  for (i=0, rr=w13, cs=w12; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #51: @3 = mac(@7,@13,@3) */
  casadi_mtimes((&w07), casadi_s13, w13, casadi_s3, w03, casadi_s12, w, 0);
  /* #52: @3 = @3' */
  /* #53: (@1[6:8] += @3) */
  for (rr=w01+6, cs=w03; rr!=w01+8; rr+=1) *rr += *cs++;
  /* #54: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #55: @7 = @5[2] */
  for (rr=(&w07), cs=w05+2; cs!=w05+3; cs+=1) *rr++ = *cs;
  /* #56: @7 = @7' */
  /* #57: @14 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w14);
  /* #58: @3 = mac(@7,@14,@3) */
  casadi_mtimes((&w07), casadi_s13, w14, casadi_s3, w03, casadi_s12, w, 0);
  /* #59: @3 = @3' */
  /* #60: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #61: (@1[4:6] += @3) */
  for (rr=w01+4, cs=w03; rr!=w01+6; rr+=1) *rr += *cs++;
  /* #62: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #63: @7 = @5[2] */
  for (rr=(&w07), cs=w05+2; cs!=w05+3; cs+=1) *rr++ = *cs;
  /* #64: @7 = @7' */
  /* #65: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #66: @15 = @14' */
  for (i=0, rr=w15, cs=w14; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #67: @3 = mac(@7,@15,@3) */
  casadi_mtimes((&w07), casadi_s13, w15, casadi_s3, w03, casadi_s12, w, 0);
  /* #68: @3 = @3' */
  /* #69: (@1[4:6] += @3) */
  for (rr=w01+4, cs=w03; rr!=w01+6; rr+=1) *rr += *cs++;
  /* #70: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #71: @7 = @5[1] */
  for (rr=(&w07), cs=w05+1; cs!=w05+2; cs+=1) *rr++ = *cs;
  /* #72: @7 = @7' */
  /* #73: @16 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w16);
  /* #74: @3 = mac(@7,@16,@3) */
  casadi_mtimes((&w07), casadi_s13, w16, casadi_s3, w03, casadi_s12, w, 0);
  /* #75: @3 = @3' */
  /* #76: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #77: (@1[2:4] += @3) */
  for (rr=w01+2, cs=w03; rr!=w01+4; rr+=1) *rr += *cs++;
  /* #78: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #79: @7 = @5[1] */
  for (rr=(&w07), cs=w05+1; cs!=w05+2; cs+=1) *rr++ = *cs;
  /* #80: @7 = @7' */
  /* #81: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #82: @17 = @16' */
  for (i=0, rr=w17, cs=w16; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #83: @3 = mac(@7,@17,@3) */
  casadi_mtimes((&w07), casadi_s13, w17, casadi_s3, w03, casadi_s12, w, 0);
  /* #84: @3 = @3' */
  /* #85: (@1[2:4] += @3) */
  for (rr=w01+2, cs=w03; rr!=w01+4; rr+=1) *rr += *cs++;
  /* #86: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #87: @7 = @5[0] */
  for (rr=(&w07), cs=w05+0; cs!=w05+1; cs+=1) *rr++ = *cs;
  /* #88: @7 = @7' */
  /* #89: @18 = 
  [[500, 0], 
   [0, 1]] */
  casadi_copy(casadi_c0, 4, w18);
  /* #90: @3 = mac(@7,@18,@3) */
  casadi_mtimes((&w07), casadi_s13, w18, casadi_s3, w03, casadi_s12, w, 0);
  /* #91: @3 = @3' */
  /* #92: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #93: (@1[:2] += @3) */
  for (rr=w01+0, cs=w03; rr!=w01+2; rr+=1) *rr += *cs++;
  /* #94: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #95: @7 = @5[0] */
  for (rr=(&w07), cs=w05+0; cs!=w05+1; cs+=1) *rr++ = *cs;
  /* #96: @7 = @7' */
  /* #97: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #98: @19 = @18' */
  for (i=0, rr=w19, cs=w18; i<2; ++i) for (j=0; j<2; ++j) rr[i+j*2] = *cs++;
  /* #99: @3 = mac(@7,@19,@3) */
  casadi_mtimes((&w07), casadi_s13, w19, casadi_s3, w03, casadi_s12, w, 0);
  /* #100: @3 = @3' */
  /* #101: (@1[:2] += @3) */
  for (rr=w01+0, cs=w03; rr!=w01+2; rr+=1) *rr += *cs++;
  /* #102: @1 = vec(@1) */
  /* #103: @20 = zeros(1x5) */
  casadi_clear(w20, 5);
  /* #104: @6 = @6' */
  /* #105: @7 = @6[4] */
  for (rr=(&w07), cs=w06+4; cs!=w06+5; cs+=1) *rr++ = *cs;
  /* #106: @7 = (2.*@7) */
  w07 = (2.* w07 );
  /* #107: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #108: (@20[4] += @7) */
  for (rr=w20+4, cs=(&w07); rr!=w20+5; rr+=1) *rr += *cs++;
  /* #109: @7 = @6[3] */
  for (rr=(&w07), cs=w06+3; cs!=w06+4; cs+=1) *rr++ = *cs;
  /* #110: @7 = (2.*@7) */
  w07 = (2.* w07 );
  /* #111: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #112: (@20[3] += @7) */
  for (rr=w20+3, cs=(&w07); rr!=w20+4; rr+=1) *rr += *cs++;
  /* #113: @7 = @6[2] */
  for (rr=(&w07), cs=w06+2; cs!=w06+3; cs+=1) *rr++ = *cs;
  /* #114: @7 = (2.*@7) */
  w07 = (2.* w07 );
  /* #115: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #116: (@20[2] += @7) */
  for (rr=w20+2, cs=(&w07); rr!=w20+3; rr+=1) *rr += *cs++;
  /* #117: @7 = @6[1] */
  for (rr=(&w07), cs=w06+1; cs!=w06+2; cs+=1) *rr++ = *cs;
  /* #118: @7 = (2.*@7) */
  w07 = (2.* w07 );
  /* #119: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #120: (@20[1] += @7) */
  for (rr=w20+1, cs=(&w07); rr!=w20+2; rr+=1) *rr += *cs++;
  /* #121: @7 = @6[0] */
  for (rr=(&w07), cs=w06+0; cs!=w06+1; cs+=1) *rr++ = *cs;
  /* #122: @7 = (2.*@7) */
  w07 = (2.* w07 );
  /* #123: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #124: (@20[0] += @7) */
  for (rr=w20+0, cs=(&w07); rr!=w20+1; rr+=1) *rr += *cs++;
  /* #125: @20 = @20' */
  /* #126: @21 = vertcat(@1, @20) */
  rr=w21;
  for (i=0, cs=w01; i<12; ++i) *rr++ = *cs++;
  for (i=0, cs=w20; i<5; ++i) *rr++ = *cs++;
  /* #127: (@0[0, 1, 4, 5, 8, 9, 12, 13, 16, 17, 20, 21, 24, 25, 26, 27, 28] = @21) */
  for (cii=casadi_s14, rr=w00, cs=w21; cii!=casadi_s14+17; ++cii, ++cs) rr[*cii] = *cs;
  /* #128: (@0[0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 25, 26, 27, 28] = @21) */
  for (cii=casadi_s15, rr=w00, cs=w21; cii!=casadi_s15+17; ++cii, ++cs) rr[*cii] = *cs;
  /* #129: @1 = zeros(2x6) */
  casadi_clear(w01, 12);
  /* #130: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #131: @5 = ones(17x1,6nz) */
  casadi_fill(w05, 6, 1.);
  /* #132: {@22, NULL} = vertsplit(@5) */
  casadi_copy(w05, 6, w22);
  /* #133: @22 = reshape(@22) */
  /* #134: @7 = @22[5] */
  for (rr=(&w07), cs=w22+5; cs!=w22+6; cs+=1) *rr++ = *cs;
  /* #135: @7 = @7' */
  /* #136: @3 = mac(@7,@8,@3) */
  casadi_mtimes((&w07), casadi_s16, w08, casadi_s3, w03, casadi_s12, w, 0);
  /* #137: @3 = @3' */
  /* #138: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #139: (@1[10:12] += @3) */
  for (rr=w01+10, cs=w03; rr!=w01+12; rr+=1) *rr += *cs++;
  /* #140: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #141: @7 = @22[5] */
  for (rr=(&w07), cs=w22+5; cs!=w22+6; cs+=1) *rr++ = *cs;
  /* #142: @7 = @7' */
  /* #143: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #144: @3 = mac(@7,@9,@3) */
  casadi_mtimes((&w07), casadi_s16, w09, casadi_s3, w03, casadi_s12, w, 0);
  /* #145: @3 = @3' */
  /* #146: (@1[10:12] += @3) */
  for (rr=w01+10, cs=w03; rr!=w01+12; rr+=1) *rr += *cs++;
  /* #147: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #148: @7 = @22[4] */
  for (rr=(&w07), cs=w22+4; cs!=w22+5; cs+=1) *rr++ = *cs;
  /* #149: @7 = @7' */
  /* #150: @3 = mac(@7,@10,@3) */
  casadi_mtimes((&w07), casadi_s16, w10, casadi_s3, w03, casadi_s12, w, 0);
  /* #151: @3 = @3' */
  /* #152: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #153: (@1[8:10] += @3) */
  for (rr=w01+8, cs=w03; rr!=w01+10; rr+=1) *rr += *cs++;
  /* #154: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #155: @7 = @22[4] */
  for (rr=(&w07), cs=w22+4; cs!=w22+5; cs+=1) *rr++ = *cs;
  /* #156: @7 = @7' */
  /* #157: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #158: @3 = mac(@7,@11,@3) */
  casadi_mtimes((&w07), casadi_s16, w11, casadi_s3, w03, casadi_s12, w, 0);
  /* #159: @3 = @3' */
  /* #160: (@1[8:10] += @3) */
  for (rr=w01+8, cs=w03; rr!=w01+10; rr+=1) *rr += *cs++;
  /* #161: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #162: @7 = @22[3] */
  for (rr=(&w07), cs=w22+3; cs!=w22+4; cs+=1) *rr++ = *cs;
  /* #163: @7 = @7' */
  /* #164: @3 = mac(@7,@12,@3) */
  casadi_mtimes((&w07), casadi_s16, w12, casadi_s3, w03, casadi_s12, w, 0);
  /* #165: @3 = @3' */
  /* #166: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #167: (@1[6:8] += @3) */
  for (rr=w01+6, cs=w03; rr!=w01+8; rr+=1) *rr += *cs++;
  /* #168: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #169: @7 = @22[3] */
  for (rr=(&w07), cs=w22+3; cs!=w22+4; cs+=1) *rr++ = *cs;
  /* #170: @7 = @7' */
  /* #171: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #172: @3 = mac(@7,@13,@3) */
  casadi_mtimes((&w07), casadi_s16, w13, casadi_s3, w03, casadi_s12, w, 0);
  /* #173: @3 = @3' */
  /* #174: (@1[6:8] += @3) */
  for (rr=w01+6, cs=w03; rr!=w01+8; rr+=1) *rr += *cs++;
  /* #175: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #176: @7 = @22[2] */
  for (rr=(&w07), cs=w22+2; cs!=w22+3; cs+=1) *rr++ = *cs;
  /* #177: @7 = @7' */
  /* #178: @3 = mac(@7,@14,@3) */
  casadi_mtimes((&w07), casadi_s16, w14, casadi_s3, w03, casadi_s12, w, 0);
  /* #179: @3 = @3' */
  /* #180: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #181: (@1[4:6] += @3) */
  for (rr=w01+4, cs=w03; rr!=w01+6; rr+=1) *rr += *cs++;
  /* #182: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #183: @7 = @22[2] */
  for (rr=(&w07), cs=w22+2; cs!=w22+3; cs+=1) *rr++ = *cs;
  /* #184: @7 = @7' */
  /* #185: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #186: @3 = mac(@7,@15,@3) */
  casadi_mtimes((&w07), casadi_s16, w15, casadi_s3, w03, casadi_s12, w, 0);
  /* #187: @3 = @3' */
  /* #188: (@1[4:6] += @3) */
  for (rr=w01+4, cs=w03; rr!=w01+6; rr+=1) *rr += *cs++;
  /* #189: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #190: @7 = @22[1] */
  for (rr=(&w07), cs=w22+1; cs!=w22+2; cs+=1) *rr++ = *cs;
  /* #191: @7 = @7' */
  /* #192: @3 = mac(@7,@16,@3) */
  casadi_mtimes((&w07), casadi_s16, w16, casadi_s3, w03, casadi_s12, w, 0);
  /* #193: @3 = @3' */
  /* #194: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #195: (@1[2:4] += @3) */
  for (rr=w01+2, cs=w03; rr!=w01+4; rr+=1) *rr += *cs++;
  /* #196: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #197: @7 = @22[1] */
  for (rr=(&w07), cs=w22+1; cs!=w22+2; cs+=1) *rr++ = *cs;
  /* #198: @7 = @7' */
  /* #199: @7 = (@2*@7) */
  w07  = (w02*w07);
  /* #200: @3 = mac(@7,@17,@3) */
  casadi_mtimes((&w07), casadi_s16, w17, casadi_s3, w03, casadi_s12, w, 0);
  /* #201: @3 = @3' */
  /* #202: (@1[2:4] += @3) */
  for (rr=w01+2, cs=w03; rr!=w01+4; rr+=1) *rr += *cs++;
  /* #203: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #204: @7 = @22[0] */
  for (rr=(&w07), cs=w22+0; cs!=w22+1; cs+=1) *rr++ = *cs;
  /* #205: @7 = @7' */
  /* #206: @3 = mac(@7,@18,@3) */
  casadi_mtimes((&w07), casadi_s16, w18, casadi_s3, w03, casadi_s12, w, 0);
  /* #207: @3 = @3' */
  /* #208: @3 = (@2*@3) */
  for (i=0, rr=w03, cs=w03; i<2; ++i) (*rr++)  = (w02*(*cs++));
  /* #209: (@1[:2] += @3) */
  for (rr=w01+0, cs=w03; rr!=w01+2; rr+=1) *rr += *cs++;
  /* #210: @3 = zeros(1x2) */
  casadi_clear(w03, 2);
  /* #211: @7 = @22[0] */
  for (rr=(&w07), cs=w22+0; cs!=w22+1; cs+=1) *rr++ = *cs;
  /* #212: @7 = @7' */
  /* #213: @2 = (@2*@7) */
  w02 *= w07;
  /* #214: @3 = mac(@2,@19,@3) */
  casadi_mtimes((&w02), casadi_s16, w19, casadi_s3, w03, casadi_s12, w, 0);
  /* #215: @3 = @3' */
  /* #216: (@1[:2] += @3) */
  for (rr=w01+0, cs=w03; rr!=w01+2; rr+=1) *rr += *cs++;
  /* #217: @1 = vec(@1) */
  /* #218: (@0[:24:4;2:4] = @1) */
  for (rr=w00+0, cs=w01; rr!=w00+24; rr+=4) for (tt=rr+2; tt!=rr+4; tt+=1) *tt = *cs++;
  /* #219: (@0[1:25:2] = @1) */
  for (rr=w00+1, cs=w01; rr!=w00+25; rr+=2) *rr = *cs++;
  /* #220: @23 = @0' */
  casadi_trans(w00,casadi_s17, w23, casadi_s17, iw);
  /* #221: output[0][0] = @23 */
  casadi_copy(w23, 29, res[0]);
  return 0;
}

/* qpsol:(h[17x17,29nz],g[17],a[22x17,52nz],lba[22],uba[22],lbx[17],ubx[17],x0[17],lam_x0[17],lam_a0[22],q[],p[])->(x[17],cost,lam_a[22],lam_x[17]) */
static int casadi_f6(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, int mem) {
  OSQPWorkspace *work=casadi_f6_mem[mem];
  casadi_int i, n, offset;
  /* Set objective */
  if (arg[1]) {
    casadi_copy(arg[1], 17, w);
  } else {
    casadi_clear(w, 17);
  }
  if (osqp_update_lin_cost(work, w)) return 1;
  /* Set bounds */
  if (arg[5]) {
    casadi_copy(arg[5], 17, w);
  } else {
    casadi_fill(w, 17, -casadi_inf);
  }
  if (arg[3]) {
    casadi_copy(arg[3], 22, w+17);
  } else {
    casadi_fill(w+17, 22, -casadi_inf);
  }
  if (arg[6]) {
    casadi_copy(arg[6], 17, w+39);
  } else {
    casadi_fill(w+39, 17, casadi_inf);
  }
  if (arg[4]) {
    casadi_copy(arg[4], 22, w+56);
  } else {
    casadi_fill(w+56, 22, casadi_inf);
  }
  if (osqp_update_bounds(work, w, w+39)) return 1;
  /* Project Hessian */
  casadi_tri_project(arg[0], casadi_s17, w, 0);/* Get constraint matrix */
  offset = 0;
  for (i=0; i< 17; ++i) {
    w[23+offset] = 1;
    offset++;
    n = casadi_s18[i+1]-casadi_s18[i];
    casadi_copy(arg[2]+casadi_s18[i], n, w+offset+23);
    offset+= n;
  }
  /* Pass Hessian and constraint matrices */
  if (osqp_update_P_A(work, w, 0, 23, w+23, 0, 69)) return 1;
  if (osqp_warm_start_x(work, arg[7])) return 1;
  if (arg[8]) {
    casadi_copy(arg[8], 17, w);
  } else {
    casadi_clear(w, 17);
  }
  if (arg[9]) {
    casadi_copy(arg[9], 22, w+17);
  } else {
    casadi_clear(w+17, 22);
  }
  if (osqp_warm_start_y(work, w)) return 1;
  if (osqp_solve(work)) return 1;
  if (res[1]) casadi_copy(&work->info->obj_val, 1, res[1]);
  if (res[0]) casadi_copy(work->solution->x, 17, res[0]);
  if (res[3]) casadi_copy(work->solution->y, 17, res[3]);
  if (res[2]) casadi_copy(work->solution->y+17, 22, res[2]);
  if (work->info->status_val != OSQP_SOLVED) {
    return -1000;
  }
  return 0;
  return 0;
}

void casadi_f6_incref(void) {
}

void casadi_f6_decref(void) {
}

int casadi_f6_alloc_mem(void) {
  return casadi_f6_mem_counter++;
}

int casadi_f6_init_mem(int mem) {
  OSQPData data;
  OSQPSettings settings;
  c_int A_colind[18], A_row[69], H_colind[18], H_row[23], i;
  casadi_real dummy[69];
  csc A, H;
  casadi_clear(dummy, 69);
  for (i=0;i<69;++i) A_row[i] = casadi_s19[i];
  for (i=0;i<18;++i) A_colind[i] = casadi_s20[i];
  for (i=0;i<23;++i) H_row[i] = casadi_s21[i];
  for (i=0;i<18;++i) H_colind[i] = casadi_s22[i];
  A.m = 39;
  A.n = 17;
  A.nz = 69;
  A.nzmax = 69;
  A.x = dummy;
  A.i = A_row;
  A.p = A_colind;
  H.m = 17;
  H.n = 17;
  H.nz = 23;
  H.nzmax = 23;
  H.x = dummy;
  H.i = H_row;
  H.p = H_colind;
  data.n = 17;
  data.m = 39;
  data.P = &H;
  data.q = dummy;
  data.A = &A;
  data.l = dummy;
  data.u = dummy;
  osqp_set_default_settings(&settings);
  settings.rho = 0.1;
  settings.sigma = 1e-06;
  settings.scaling = 10;
  settings.adaptive_rho = 1;
  settings.adaptive_rho_interval = 0;
  settings.adaptive_rho_tolerance = 5;
  settings.max_iter = 4000;
  settings.eps_abs = 0.001;
  settings.eps_rel = 0.001;
  settings.eps_prim_inf = 0.0001;
  settings.eps_dual_inf = 0.0001;
  settings.alpha = 1.6;
  settings.delta = 1e-06;
  settings.polish = 0;
  settings.polish_refine_iter = 3;
  settings.verbose = 1;
  settings.scaled_termination = 0;
  settings.check_termination = 25;
  settings.warm_start = 0;
  return osqp_setup(&casadi_f6_mem[mem], &data, &settings)!=0;
}

void casadi_f6_free_mem(int mem) {
  osqp_cleanup(casadi_f6_mem[mem]);
}

int casadi_f6_checkout(void) {
  int mid;
  if (casadi_f6_unused_stack_counter>=0) {
    return casadi_f6_unused_stack[casadi_f6_unused_stack_counter--];
  } else {
    if (casadi_f6_mem_counter==CASADI_MAX_NUM_THREADS) return -1;
    mid = casadi_f6_alloc_mem();
    if (mid<0) return -1;
    if(casadi_f6_init_mem(mid)) return -1;
    return mid;
  }
}

void casadi_f6_release(int mem) {
  casadi_f6_unused_stack[++casadi_f6_unused_stack_counter] = mem;
}

/* solver:(x0[17],p[14],lbx[17],ubx[17],lbg[22],ubg[22],lam_x0[17],lam_g0[22])->(x[17],f,g[22],lam_x[17],lam_g[22],lam_p[14]) */
static int casadi_f1(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, int mem) {
  casadi_int iter_count=0, ls_iter=0;
  casadi_real F_sens, du_inf, dx_norminf, fk_cand, l1, l1_cand, l1_infeas, pr_inf, sigma=0.0, t=0.0, tl1;
  const casadi_real one=1;
  int flag, mid, ret;
  struct casadi_nlpsol_data d_nlp;
  struct casadi_nlpsol_prob p_nlp;
  struct casadi_oracle_data d_oracle;
  struct casadi_sqpmethod_data* d=&casadi_f1_mem[mem];
  struct casadi_sqpmethod_prob p;
  d_nlp.oracle = &d_oracle;
  d_nlp.p = arg[1];
  d_nlp.lbx = arg[2];
  d_nlp.ubx = arg[3];
  d_nlp.lbg = arg[4];
  d_nlp.ubg = arg[5];
  d_nlp.x0 = arg[0];
  d_nlp.lam_x0 = arg[6];
  d_nlp.lam_g0 = arg[7];
  d_nlp.x = res[0];
  d_nlp.f = res[1];
  d_nlp.g = res[2];
  d_nlp.lam_x = res[3];
  d_nlp.lam_g = res[4];
  d_nlp.lam_p = res[5];
  d_nlp.prob = &p_nlp;
  p_nlp.nx = 17;
  p_nlp.ng = 22;
  p_nlp.np = 14;
  p_nlp.detect_bounds.ng = 0;
  casadi_nlpsol_init(&d_nlp, &arg, &res, &iw, &w);
  if (d_nlp.x0) {
    casadi_copy(d_nlp.x0, 17, d_nlp.z);
  } else {
    casadi_clear(d_nlp.z, 17);
  }
  if (d_nlp.lbx) {
    casadi_copy(d_nlp.lbx, 17, d_nlp.lbz);
  } else {
    casadi_fill(d_nlp.lbz, 17, -casadi_inf);
  }
  if (d_nlp.ubx) {
    casadi_copy(d_nlp.ubx, 17, d_nlp.ubz);
  } else {
    casadi_fill(d_nlp.ubz, 17, casadi_inf);
  }
  if (d_nlp.lam_x0) {
    casadi_copy(d_nlp.lam_x0, 17, d_nlp.lam);
  } else {
    casadi_clear(d_nlp.lam, 17);
  }
  if (d_nlp.lbg) {
    casadi_copy(d_nlp.lbg, 22, d_nlp.lbz+17);
  } else {
    casadi_fill(d_nlp.lbz+17, 22, -casadi_inf);
  }
  if (d_nlp.ubg) {
    casadi_copy(d_nlp.ubg, 22, d_nlp.ubz+17);
  } else {
    casadi_fill(d_nlp.ubz+17, 22, casadi_inf);
  }
  if (d_nlp.lam_g0) {
    casadi_copy(d_nlp.lam_g0, 22, d_nlp.lam+17);
  } else {
    casadi_clear(d_nlp.lam+17, 22);
  }
  d->prob = &p;
  p.sp_h = casadi_s17;
  p.sp_a = casadi_s10;
  p.merit_memsize = 4;
  p.max_iter_ls = 3;
  p.nlp = &p_nlp;
  casadi_sqpmethod_init(d, &arg, &res, &iw, &w, 0, 0);
  casadi_clear(d->dx, 17);
  /* MAIN OPTIMIZATION LOOP */
  while (1) {
    /* Evaluate f, g and first order derivative information */
    d->arg[0] = d_nlp.z;
    d->arg[1] = d_nlp.p;
    d->res[0] = &d_nlp.objective;
    d->res[1] = d->gf;
    d->res[2] = d_nlp.z+17;
    d->res[3] = d->Jk;
    if (casadi_f4(d->arg, d->res, d->iw, d->w, 0)) return 1;
    /* Evaluate the gradient of the Lagrangian */
    casadi_copy(d->gf, 17, d->gLag);
    casadi_mv(d->Jk, casadi_s10, d_nlp.lam+17, d->gLag, 1);
    casadi_axpy(17, 1.0, d_nlp.lam, d->gLag);
    /* Primal infeasability */
    pr_inf = casadi_max_viol(39, d_nlp.z, d_nlp.lbz, d_nlp.ubz);
    /* inf-norm of lagrange gradient */
    du_inf = casadi_norm_inf(17, d->gLag);
    /* inf-norm of step */
    dx_norminf = casadi_norm_inf(17, d->dx);
    /* Checking convergence criteria */
    if (iter_count >= 0 && pr_inf < 1e-06 && du_inf < 1e-06) break;
    if (iter_count >= 50) break;
    if (iter_count >= 1 && iter_count >= 0 && dx_norminf <= 1e-10) break;
    /* Update/reset exact Hessian */
    d->arg[0] = d_nlp.z;
    d->arg[1] = d_nlp.p;
    d->arg[2] = &one;
    d->arg[3] = d_nlp.lam+17;
    d->res[0] = d->Bk;
    if (casadi_f5(d->arg, d->res, d->iw, d->w, 0)) return 1;
    /* Formulate the QP */
    casadi_copy(d_nlp.lbz, 39, d->lbdz);
    casadi_axpy(39, -1.0, d_nlp.z, d->lbdz);
    casadi_copy(d_nlp.ubz, 39, d->ubdz);
    casadi_axpy(39, -1.0, d_nlp.z, d->ubdz);
    /* Initial guess */
    casadi_copy(d_nlp.lam, 39, d->dlam);
    casadi_clear(d->dx, 17);
    /* Increase counter */
    iter_count++;
    /* Solve the QP */
    d->arg[0] = 0;
    d->arg[1] = 0;
    d->arg[2] = 0;
    d->arg[3] = 0;
    d->arg[4] = 0;
    d->arg[5] = 0;
    d->arg[6] = 0;
    d->arg[7] = 0;
    d->arg[8] = 0;
    d->arg[9] = 0;
    d->arg[10] = 0;
    d->arg[11] = 0;
    d->arg[0] = d->Bk;
    d->arg[1] = d->gf;
    d->arg[7] = d->dx;
    d->arg[8] = d->dlam;
    d->arg[9] = d->dlam+17;
    d->arg[5] = d->lbdz;
    d->arg[6] = d->ubdz;
    d->arg[2] = d->Jk;
    d->arg[3] = d->lbdz+17;
    d->arg[4] = d->ubdz+17;
    d->res[0] = 0;
    d->res[1] = 0;
    d->res[2] = 0;
    d->res[3] = 0;
    d->res[0] = d->dx;
    d->res[3] = d->dlam;
    d->res[2] = d->dlam+17;
    mid = casadi_f6_checkout();
    if (mid<0) return 1;
    flag = casadi_f6(d->arg, d->res, d->iw, d->w, mid);
    casadi_f6_release(mid);
    ret = flag;
    if (ret == -1000) return -1000;
    /* Calculate penalty parameter of merit function */
    sigma = casadi_fmax(sigma, (1.01*casadi_norm_inf(39, d->dlam)));;
    /* Calculate L1-merit function in the actual iterate */
    l1_infeas = casadi_sum_viol(39, d_nlp.z, d_nlp.lbz, d_nlp.ubz);
    l1 = d_nlp.objective + sigma * l1_infeas;
    /* Detecting indefiniteness */
    /* Right-hand side of Armijo condition */
    F_sens = casadi_dot(17, d->dx, d->gf);
    tl1 = F_sens - sigma * l1_infeas;
    /* Stepsize */
    t = 1.0;
    /* Merit function value in candidate */
    l1_cand = 0.0;
    /* Reset line-search counter, success marker */
    ls_iter = 0;
    /* Line-search loop */
    while (1) {
      /*  Increase counter */
      ls_iter++;
      /* Candidate step */
      casadi_copy(d_nlp.z, 17, d->z_cand);
      casadi_axpy(17, t, d->dx, d->z_cand);
      /* Evaluating objective and constraints */
      d->arg[0] = d->z_cand;
      d->arg[1] = d_nlp.p;
      d->res[0] = &fk_cand;
      d->res[1] = d->z_cand+17;
      if (casadi_f3(d->arg, d->res, d->iw, d->w, 0)) {
        /* Avoid infinite recursion */
        if (ls_iter == 3) {
          break;
        }
        /* line-search failed, skip iteration */
        t = 0.8* t;
        continue;
      }
      /* Calculating merit-function in candidate */
      l1_cand = fk_cand + sigma * casadi_sum_viol(39, d->z_cand, d_nlp.lbz, d_nlp.ubz);
      if (l1_cand <= l1 + t * 0.0001* tl1) {
        break;
      }
      /* Line-search not successful, but we accept it. */
      if (ls_iter == 3) {
        break;
      }
      /* Backtracking */
      t = 0.8* t;
    }
    /* Candidate accepted, update dual variables */
    casadi_scal(39, 1-t, d_nlp.lam);
    casadi_axpy(39, t, d->dlam, d_nlp.lam);
    casadi_scal(17, t, d->dx);
    /* Take step */
    casadi_axpy(17, 1.0, d->dx, d_nlp.z);
  }
  d->arg[0] = d_nlp.z;
  d->arg[1] = d_nlp.p;
  d->arg[2] = &one;
  d->arg[3] = d_nlp.lam+17;
  d->res[0] = 0;
  d->res[1] = 0;
  d->res[2] = 0;
  d->res[3] = d_nlp.lam_p;
  if (casadi_f2(d->arg, d->res, d->iw, d->w, 0)) return 1;
  casadi_scal(14, -1.0, d_nlp.lam_p);
  casadi_copy(d_nlp.z, 17, d_nlp.x);
  casadi_copy(d_nlp.z + 17, 22, d_nlp.g);
  casadi_copy(d_nlp.lam, 17, d_nlp.lam_x);
  casadi_copy(d_nlp.lam + 17, 22, d_nlp.lam_g);
  if (d_nlp.f) casadi_copy(&d_nlp.objective, 1, d_nlp.f);
  if (d_nlp.lam_p) casadi_copy(d_nlp.lam_p, 14, d_nlp.lam_p);
  return 0;
}

int casadi_f1_alloc_mem(void) {
  return casadi_f1_mem_counter++;
}

int casadi_f1_init_mem(int mem) {
  return 0;
}

void casadi_f1_free_mem(int mem) {
}

int casadi_f1_checkout(void) {
  int mid;
  if (casadi_f1_unused_stack_counter>=0) {
    return casadi_f1_unused_stack[casadi_f1_unused_stack_counter--];
  } else {
    if (casadi_f1_mem_counter==CASADI_MAX_NUM_THREADS) return -1;
    mid = casadi_f1_alloc_mem();
    if (mid<0) return -1;
    if(casadi_f1_init_mem(mid)) return -1;
    return mid;
  }
}

void casadi_f1_release(int mem) {
  casadi_f1_unused_stack[++casadi_f1_unused_stack_counter] = mem;
}

/* helper:(i0[17],i1[14],i2[22])->(o0) */
static int casadi_f7(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, int mem) {
  casadi_real *rr, *w0=w+0, w1;
  const casadi_real *cs;
  /* #0: @0 = input[0][1] */
  casadi_copy(arg[0] ? arg[0]+12 : 0, 5, w0);
  /* #1: @1 = @0[0] */
  for (rr=(&w1), cs=w0+0; cs!=w0+1; cs+=1) *rr++ = *cs;
  /* #2: output[0][0] = @1 */
  if (res[0]) res[0][0] = w1;
  return 0;
}

/* my_solver:(x0[2],xref[2x6])->(u_opt) */
static int casadi_f0(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, int mem) {
  casadi_int i;
  casadi_real **res1=res+1, *rr, *w00=w+759, *w01=w+776, *w03=w+790, *w04=w+804, *w05=w+821, *w06=w+838, w07, w08, *w09=w+842, w10;
  casadi_real w11, *w12=w+846, w13, w14, *w15=w+850, w16, w17, *w18=w+854, w19, w20, *w21=w+858, *w22=w+880;
  casadi_real *w23=w+902, *w24=w+919, *w25=w+941, *w26=w+958;
  const casadi_real **arg1=arg+2, *cs, *wr02;
  int flag, mid;
  /* #0: @0 = zeros(17x1) */
  casadi_clear(w00, 17);
  /* #1: @1 = input[0][0] */
  casadi_copy(arg[0], 2, w01);
  /* #2: @2 = input[1][0] */
  wr02 = arg[1] ? arg[1] : casadi_zeros;
  /* #3: @2 = vec(@2) */
  /* #4: @3 = vertcat(@1, @2) */
  rr=w03;
  for (i=0, cs=w01; i<2; ++i) *rr++ = *cs++;
  for (i=0, cs=wr02; i<12; ++i) *rr++ = *cs++;
  /* #5: @4 = -inf(17x1) */
  casadi_fill(w04, 17, -casadi_inf);
  /* #6: @5 = inf(17x1) */
  casadi_fill(w05, 17, casadi_inf);
  /* #7: @6 = zeros(2x1) */
  casadi_clear(w06, 2);
  /* #8: @7 = -10 */
  w07 = -10.;
  /* #9: @8 = -inf */
  w08 = -casadi_inf;
  /* #10: @9 = zeros(2x1) */
  casadi_clear(w09, 2);
  /* #11: @10 = -10 */
  w10 = -10.;
  /* #12: @11 = -inf */
  w11 = -casadi_inf;
  /* #13: @12 = zeros(2x1) */
  casadi_clear(w12, 2);
  /* #14: @13 = -10 */
  w13 = -10.;
  /* #15: @14 = -inf */
  w14 = -casadi_inf;
  /* #16: @15 = zeros(2x1) */
  casadi_clear(w15, 2);
  /* #17: @16 = -10 */
  w16 = -10.;
  /* #18: @17 = -inf */
  w17 = -casadi_inf;
  /* #19: @18 = zeros(2x1) */
  casadi_clear(w18, 2);
  /* #20: @19 = -10 */
  w19 = -10.;
  /* #21: @20 = -inf */
  w20 = -casadi_inf;
  /* #22: @21 = vertcat(@1, @6, @7, @8, @9, @10, @11, @12, @13, @14, @15, @16, @17, @18, @19, @20) */
  rr=w21;
  for (i=0, cs=w01; i<2; ++i) *rr++ = *cs++;
  for (i=0, cs=w06; i<2; ++i) *rr++ = *cs++;
  *rr++ = w07;
  *rr++ = w08;
  for (i=0, cs=w09; i<2; ++i) *rr++ = *cs++;
  *rr++ = w10;
  *rr++ = w11;
  for (i=0, cs=w12; i<2; ++i) *rr++ = *cs++;
  *rr++ = w13;
  *rr++ = w14;
  for (i=0, cs=w15; i<2; ++i) *rr++ = *cs++;
  *rr++ = w16;
  *rr++ = w17;
  for (i=0, cs=w18; i<2; ++i) *rr++ = *cs++;
  *rr++ = w19;
  *rr++ = w20;
  /* #23: @6 = zeros(2x1) */
  casadi_clear(w06, 2);
  /* #24: @7 = inf */
  w07 = casadi_inf;
  /* #25: @8 = 10 */
  w08 = 10.;
  /* #26: @9 = zeros(2x1) */
  casadi_clear(w09, 2);
  /* #27: @10 = inf */
  w10 = casadi_inf;
  /* #28: @11 = 10 */
  w11 = 10.;
  /* #29: @12 = zeros(2x1) */
  casadi_clear(w12, 2);
  /* #30: @13 = inf */
  w13 = casadi_inf;
  /* #31: @14 = 10 */
  w14 = 10.;
  /* #32: @15 = zeros(2x1) */
  casadi_clear(w15, 2);
  /* #33: @16 = inf */
  w16 = casadi_inf;
  /* #34: @17 = 10 */
  w17 = 10.;
  /* #35: @18 = zeros(2x1) */
  casadi_clear(w18, 2);
  /* #36: @19 = inf */
  w19 = casadi_inf;
  /* #37: @20 = 10 */
  w20 = 10.;
  /* #38: @22 = vertcat(@1, @6, @7, @8, @9, @10, @11, @12, @13, @14, @15, @16, @17, @18, @19, @20) */
  rr=w22;
  for (i=0, cs=w01; i<2; ++i) *rr++ = *cs++;
  for (i=0, cs=w06; i<2; ++i) *rr++ = *cs++;
  *rr++ = w07;
  *rr++ = w08;
  for (i=0, cs=w09; i<2; ++i) *rr++ = *cs++;
  *rr++ = w10;
  *rr++ = w11;
  for (i=0, cs=w12; i<2; ++i) *rr++ = *cs++;
  *rr++ = w13;
  *rr++ = w14;
  for (i=0, cs=w15; i<2; ++i) *rr++ = *cs++;
  *rr++ = w16;
  *rr++ = w17;
  for (i=0, cs=w18; i<2; ++i) *rr++ = *cs++;
  *rr++ = w19;
  *rr++ = w20;
  /* #39: @23 = zeros(17x1) */
  casadi_clear(w23, 17);
  /* #40: @24 = zeros(22x1) */
  casadi_clear(w24, 22);
  /* #41: {@25, NULL, NULL, NULL, @26, NULL} = solver(@0, @3, @4, @5, @21, @22, @23, @24) */
  arg1[0]=w00;
  arg1[1]=w03;
  arg1[2]=w04;
  arg1[3]=w05;
  arg1[4]=w21;
  arg1[5]=w22;
  arg1[6]=w23;
  arg1[7]=w24;
  res1[0]=w25;
  res1[1]=0;
  res1[2]=0;
  res1[3]=0;
  res1[4]=w26;
  res1[5]=0;
  mid = casadi_f1_checkout();
  if (mid<0) return 1;
  flag = casadi_f1(arg1, res1, iw, w, mid);
  casadi_f1_release(mid);
  if (flag) return 1;
  /* #42: @7 = helper(@25, @3, @26) */
  arg1[0]=w25;
  arg1[1]=w03;
  arg1[2]=w26;
  res1[0]=(&w07);
  if (casadi_f7(arg1, res1, iw, w, 0)) return 1;
  /* #43: output[0][0] = @7 */
  if (res[0]) res[0][0] = w07;
  return 0;
}

CASADI_SYMBOL_EXPORT int my_solver(const casadi_real** arg, casadi_real** res, casadi_int* iw, casadi_real* w, int mem){
  return casadi_f0(arg, res, iw, w, mem);
}

CASADI_SYMBOL_EXPORT int my_solver_alloc_mem(void) {
  return 0;
}

CASADI_SYMBOL_EXPORT int my_solver_init_mem(int mem) {
  return 0;
}

CASADI_SYMBOL_EXPORT void my_solver_free_mem(int mem) {
}

CASADI_SYMBOL_EXPORT int my_solver_checkout(void) {
  return 0;
}

CASADI_SYMBOL_EXPORT void my_solver_release(int mem) {
}

CASADI_SYMBOL_EXPORT void my_solver_incref(void) {
}

CASADI_SYMBOL_EXPORT void my_solver_decref(void) {
}

CASADI_SYMBOL_EXPORT casadi_int my_solver_n_in(void) { return 2;}

CASADI_SYMBOL_EXPORT casadi_int my_solver_n_out(void) { return 1;}

CASADI_SYMBOL_EXPORT casadi_real my_solver_default_in(casadi_int i) {
  switch (i) {
    default: return 0;
  }
}

CASADI_SYMBOL_EXPORT const char* my_solver_name_in(casadi_int i) {
  switch (i) {
    case 0: return "x0";
    case 1: return "xref";
    default: return 0;
  }
}

CASADI_SYMBOL_EXPORT const char* my_solver_name_out(casadi_int i) {
  switch (i) {
    case 0: return "u_opt";
    default: return 0;
  }
}

CASADI_SYMBOL_EXPORT const casadi_int* my_solver_sparsity_in(casadi_int i) {
  switch (i) {
    case 0: return casadi_s23;
    case 1: return casadi_s24;
    default: return 0;
  }
}

CASADI_SYMBOL_EXPORT const casadi_int* my_solver_sparsity_out(casadi_int i) {
  switch (i) {
    case 0: return casadi_s25;
    default: return 0;
  }
}

CASADI_SYMBOL_EXPORT int my_solver_work(casadi_int *sz_arg, casadi_int* sz_res, casadi_int *sz_iw, casadi_int *sz_w) {
  if (sz_arg) *sz_arg = 28;
  if (sz_res) *sz_res = 27;
  if (sz_iw) *sz_iw = 18;
  if (sz_w) *sz_w = 980;
  return 0;
}

CASADI_SYMBOL_EXPORT int my_solver_work_bytes(casadi_int *sz_arg, casadi_int* sz_res, casadi_int *sz_iw, casadi_int *sz_w) {
  if (sz_arg) *sz_arg = 28*sizeof(const casadi_real*);
  if (sz_res) *sz_res = 27*sizeof(casadi_real*);
  if (sz_iw) *sz_iw = 18*sizeof(casadi_int);
  if (sz_w) *sz_w = 980*sizeof(casadi_real);
  return 0;
}


#ifdef __cplusplus
} /* extern "C" */
#endif
